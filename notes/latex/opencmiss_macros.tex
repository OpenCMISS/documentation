%
% opencmiss_macros.tex - global macros file
%
% Created:
%   10 September 1996
%
% Updates:
%   Leo Cheng 31 May 1998, macros for DES software names
%   Leo Cheng 19 August 1998, added units for grams and kg
%   Leo Cheng 18 January 1999, added units for ohmcm
%   Leo Cheng 17 May 1999, adding modified url package and macros
%   Chris Bradley, 1 Dec 1999, adding \unitseparator.
%   Chris Bradley, 7 September 2000, Changed \lps to \Lps and \mMpLpms etc.
%     to \mmolpLpms etc.
%   Mark Trew, 8 June 2001. Made all macro arguments raised to a power
%     protected by {}, e.g. replaced #2^ with {#2}^.
%   Chris Bradley, 22 Feb 2011. Added svg figure support. 
%   Chris Bradley, 6 August 2014, Differential geometry support.
%   Chris Bradley, 4 July 2017, tidyup for outdated packages.

%
% Necessary packages
%
\usepackage{alltt}
\usepackage[centertags]{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{calc}
\usepackage{keyval}
\usepackage{graphicx}
\usepackage{epsfig}
\usepackage{ifthen}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{latexsym}
\usepackage{moreverb}
\usepackage[subfolder,cleanup]{gnuplottex}
\usepackage{xspace}
\usepackage[driverfallback=dvips,pageanchor=true,breaklinks,colorlinks=true,backref=page,hyperindex=true]{hyperref} %make links
\usepackage[hyphenbreaks]{breakurl}
%\usepackage{url}
\usepackage[svgnames,hyperref]{xcolor}

%
% Allow superimposition of symbols
%
\makeatletter
\newcommand{\superimpose}[2]{%
  {\ooalign{$#1\@firstoftwo#2$\cr\hfil$#1\@secondoftwo#2$\hfil\cr}}}
\makeatother

%
% Define mathcolor until we have an up-to-date package version that supports it
%
\makeatletter
\def\mathcolor#1#{\@mathcolor{#1}}
\def\@mathcolor#1#2#3{%
  \protect\leavevmode
  \begingroup
    \color#1{#2}#3%
  \endgroup
}
\DeclareRobustCommand{\fracc}[3]{{\begingroup\color{#1}#2\endgroup\color{#1}\@@over\color{#1}#3\normalcolor}}
\makeatother

%
% URL commands
%
\newcommand{\directory}[1]{ %
  \textsf{#1} %
} %
\newcommand{\file}[1]{ %
  \textsf{#1} %
} %
\newcommand{\link}[2]{ %
  \ifthenelse{\equal{#2}{}}{ %
    \href{#1}{\textsf{#1}}}{ %
    \href{#1}{\textsf{#2}}} %
} %hyperref link e.g. \link{A}{B} -> B text and A hyperlink
\newcommand{\emaillink}[2]{ %
  \ifthenelse{\equal{#2}{}}{ %
    \href{mailto:#1}{\textsf{#1}}}{ %
    \href{mailto:#1}{\textsf{#2}}} %
} %hyperref email link
\newcommand{\namelink}[1]{ %
  \nameref{#1} %
} %
\newcommand{\urllink}[1]{ %
  \link{#1}{#1} %
} %
  
%
% Software and systmes
%
\newcommand{\OpenCMISS}{\textsf{OpenCMISS}\xspace}
\newcommand{\CMISS}{\textsf{CMISS}\xspace}
\newcommand{\CM}{\textsf{CM}\xspace}       %note upper case to distinguish from centimeters
\newcommand{\CMGUI}{\textsf{CMGUI}\xspace}
\newcommand{\UNEMAP}{\textsf{UnEmap}\xspace}
\newcommand{\FieldML}{\textsf{FieldML}\xspace}
\newcommand{\CellML}{\textsf{CellML}\xspace}
\newcommand{\FAROARM}{\textsf{FARO ARM\xspace}}
\newcommand{\OpenMP}{\textsf{OpenMP\xspace}}
\newcommand{\OpenACC}{\textsf{OpenACC\xspace}}

%
% New commands
%
\newcommand{\Index}[1]{#1\index{#1}}
\newcommand{\subsubsubsection}[1]{\noindent\textbf{#1}}
%\newcommand{\newabbrev}[2]{\newcommand{#1}{#2\xspace}}
%\newcommand{\newabbrevs}[3]{\newcommand{#1}{#2\xspace}\newcommand{#3}{#2s\xspace}}
\newcommand{\clearemptydoublepage}{\newpage{\pagestyle{empty}\cleardoublepage}}
%\newcommand{\newion}[3]{\newcommand{#1}{\ion{#2}{#3}}} % new ion
%\newcommand{\newunit}[2]{\newcommand{#1}{\units{#2}}} % new unit

%
% New enironments
%
\newenvironment{code}[0]{\small\begin{alltt}}{\end{alltt}\normalsize}

%
% Figures etc.
%
\newcommand{\pdftexfigure}[5]{ %
  \begin{figure}[htbp] \centering %
   \ifthenelse{\equal{#5}{}}{ %
      \def\svgwidth{\columnwidth}}{ %
      \def\svgscale{#5} %
    } %
    \input{#1} %
    \ifthenelse{\equal{#2}{}}{ %
      \caption{#3}}{ %
      \caption[#2]{#3} %
      } %
    \label{#4} %
  \end{figure} %
  } % pdftex figure i.e. inkscape svgs
    % e.g. \pdftexfigure{figure}{short caption}{long caption}{label}{scale}
    % or \pdftexfigure{figure}{}{caption}{label}{}

\newcommand{\epstexfigure}[5]{ %
  \begin{figure}[htbp] \centering %
    \ifthenelse{\equal{#5}{}}{ %
      \def\svgwidth{\columnwidth}}{ %
      \def\svgscale{#5} %
    } %
    \input{#1} %
    \ifthenelse{\equal{#2}{}}{ %
      \caption{#3}}{ %
      \caption[#2]{#3} %
    } %
    \label{#4} %
  \end{figure} %
  } % epstex figure i.e. inkscape svgs
  % e.g. \epstexfigure{figure}{short caption}{long caption}{label}{scale}
  % or \epstexfigure{figure}{}{caption}{label}{}
  
\newcommand{\epstexsubfigure}[5]{ %
  \centering %
  \ifthenelse{\equal{#5}{}}{ %
    \def\svgwidth{\columnwidth}}{ %
    \def\svgscale{#5} %
  } %
  \ifthenelse{\equal{#2}{}}{ %
    \subfloat[][#3]{\input{#1}}}{ %
    \subfloat[#2][#3]{\input{#1}} %
  } %
  \label{#4} %
} % epstex sub figure i.e. inkscape svgs
  % e.g. \epstexsubfigure{figure}{short caption}{long caption}{label}{scale}
  % or \epstexsubfigure{figure}{}{caption}{label}{}
  
\newcommand{\gnuplotsubfigure}[8]{ %
  \begin{subfigure}[b]{#5}
    \centering %
    \ifthenelse{\equal{#8}{}}{ %
      \gnuplotloadfile[terminal=pslatex,terminaloptions={color size #7,#7 #6}]{#1}}{ %
      \gnuplotloadfile[terminal=pslatex,terminaloptions={color size #7,#8 #6}]{#1} %
    } %
    \ifthenelse{\equal{#2}{}}{ %
      \caption{#3}}{ %
      \caption[#2]{#3} %
    } %
    \label{#4} %
  \end{subfigure}
} % gnuplot subfigure e.g. \gnuplotsubfigure{file}{short caption}{long caption}{label}{subfigurescale}{fontsize}{gnuplotxsize}{gnuplotysize}
  
\newcommand{\pstexfigure}[5]{ %
  \begin{figure}[htbp] \centering %
    \ifthenelse{\equal{#5}{}}{ %
      \def\svgwidth{\columnwidth}}{ %
      \def\svgscale{#5} %
    } %
    \input{#1} %
    \ifthenelse{\equal{#2}{}}{ %
      \caption{#3}}{ %
      \caption[#2]{#3} %
      } %
    \label{#4} %
  \end{figure} %
  } % pstex figure i.e. inkscape, xfig or gnuplot
    % e.g. \pstexsubfigure{figure}{short caption}{long caption}{label}{scale}
    % or \pstexsubfigure{figure}{}{caption}{label}{}

\newcommand{\pstexsubfigure}[5]{ %
  \begin{subfigure}[b]{0.45\columnwidth} \centering %
    \setkeys{Gin}{width=\columnwidth}
    \input{#1} %
    \ifthenelse{\equal{#2}{}}{ %
      \caption{#3}}{ %
      \caption[#2]{#3} %
    } %
    \label{#4} %
  \end{subfigure} %
} % pstex subfigure i.e. inkscape, xfig or gnuplot
    % e.g. \pstexsubfigure{figure}{short caption}{long caption}{label}{scale}

\newcommand{\epsfigure}[4]{ %
  \incgrfigure{}{#1}{#2}{#3}{#4}
  } % eps figure
    % e.g. \epsfigure{epsfig options}{short caption}{long caption}{label}
    % or \epsfigure{epsfig options}{}{caption}{label}

\newcommand{\incgrfigure}[5]{ %
  \begin{figure}[htbp] \centering %
    \includegraphics[#1]{#2} %
    \ifthenelse{\equal{#3}{}}{ %
      \ifthenelse{\equal{#4}{}}{
        {}{ %
          \caption{#4}
        }}{
        \caption[#3]{#4} %
      }} %
    \label{#5} %
  \end{figure} %
  } % include graphics figure
    % e.g. \incgrfigure{height/width options}{epsfig options}{short caption}
    %                  {long caption}{label}
    % or \incgrfigure{height/width options}{epsfig options}{}{caption}{label}

%
% Formats for references to equations, tables etc.
%
\newcommand{\appendref}[1]{Appendix~\ref{#1}} % Appendix reference
\newcommand{\Appendref}[1]{Appendix~\ref{#1}} % Appendix reference
\newcommand{\appendrefs}[2]{Appendices~\ref{#1} and~\ref{#2}} % Appendices ref.
\newcommand{\Appendrefs}[2]{Appendices~\ref{#1} and~\ref{#2}} % Appendices ref.
\newcommand{\appendthrurefs}[2]{Appendices~\ref{#1}--\ref{#2}} % Appendices--
\newcommand{\Appendthrurefs}[2]{Appendices~\ref{#1}--\ref{#2}} % Appendices--
\newcommand{\bref}[1]{(\ref{#1})} % bracketed () reference
\newcommand{\baubref}[1]{(\subref{#1})} % bracketed () subreference
\newcommand{\chapref}[1]{Chapter~\ref{#1}} % Chapter reference
\newcommand{\Chapref}[1]{Chapter~\ref{#1}} % Chapter reference
\newcommand{\chaprefs}[2]{Chapters~\ref{#1} and~\ref{#2}} % Chapters reference
\newcommand{\Chaprefs}[2]{Chapters~\ref{#1} and~\ref{#2}} % Chapters reference
\newcommand{\chathrurefs}[2]{Chapters~\bref{#1}--\bref{#2}} % Chapters-- ref.
\newcommand{\Chathrurefs}[2]{Chapters~\bref{#1}--\bref{#2}} % Chapters-- ref.
\newcommand{\eqnref}[1]{Equation~\bref{#1}} % Equation reference
\newcommand{\Eqnref}[1]{Equation~\bref{#1}} % Equation reference
\newcommand{\eqnrefs}[2]{Equations~\bref{#1} and~\bref{#2}} % Equations ref.
\newcommand{\Eqnrefs}[2]{Equations~\bref{#1} and~\bref{#2}} % Equations ref.
\newcommand{\eqnthrurefs}[2]{Equations~\bref{#1}--\bref{#2}} % Equations-- ref.
\newcommand{\Eqnthrurefs}[2]{Equations~\bref{#1}--\bref{#2}} % Equations-- ref.
\newcommand{\figref}[1]{Figure~\ref{#1}} % Figure reference
\newcommand{\Figref}[1]{Figure~\ref{#1}} % Figure reference
\newcommand{\figrefs}[2]{Figures~\ref{#1} and~\ref{#2}} % Figures reference
\newcommand{\Figrefs}[2]{Figures~\ref{#1} and~\ref{#2}} % Figures reference
\newcommand{\figthrurefs}[2]{Figures~\bref{#1}--\bref{#2}} % Figures-- ref.
\newcommand{\Figthrurefs}[2]{Figures~\bref{#1}--\bref{#2}} % Figures-- ref.
\newcommand{\subfigref}[1]{Figure~\subref{#1}} % Subfigure reference
\newcommand{\Subfigref}[1]{Figure~\subref{#1}} % subfigure reference
\newcommand{\subfigrefs}[2]{Figures~\subref{#1} and~\subref{#2}} % Subfigures reference
\newcommand{\Subfigrefs}[2]{Figures~\subref{#1} and~\subref{#2}} % subfigures reference
\newcommand{\subfigthrurefs}[2]{Figures~\bsubref{#1}--\bsubref{#2}} % Subfigures-- ref.
\newcommand{\Subfigthrurefs}[2]{Figures~\bsubref{#1}--\bsubref{#2}} % Subfigures-- ref.
\newcommand{\pagref}[1]{page~\pageref{#1}} % page reference
\newcommand{\Pagref}[1]{Page~\pageref{#1}} % Page reference
\newcommand{\pagrefs}[2]{pages~\pageref{#1} and~\pageref{#2}} % pages reference
\newcommand{\Pagrefs}[2]{Pages~\pageref{#1} and~\pageref{#2}} % Pages reference
\newcommand{\pagthrurefs}[2]{pages~\pageref{#1}--\pageref{#2}} % pages--
\newcommand{\Pagthrurefs}[2]{Pages~\pageref{#1}--\pageref{#2}} % Pages--
\newcommand{\secref}[1]{Section~\ref{#1}} % Section reference
\newcommand{\Secref}[1]{Section~\ref{#1}} % Section reference
\newcommand{\secrefs}[2]{Sections~\ref{#1} and~\ref{#2}} % Sections reference
\newcommand{\Secrefs}[2]{Sections~\ref{#1} and~\ref{#2}} % Sections reference
\newcommand{\secthrurefs}[2]{Sections~\bref{#1}--\bref{#2}} % Sections-- ref.
\newcommand{\Secthrurefs}[2]{Sections~\bref{#1}--\bref{#2}} % Sections-- ref.
\newcommand{\subsecref}[1]{Subsection~\ref{#1}} % Subsection reference
\newcommand{\Subsecref}[1]{Subsection~\ref{#1}} % Subsection reference
\newcommand{\subsecrefs}[2]{Subsections~\ref{#1} and~\ref{#2}} % Subsections reference
\newcommand{\Subsecrefs}[2]{Subsections~\ref{#1} and~\ref{#2}} % Subsections reference
\newcommand{\subsecthrurefs}[2]{Subsections~\bref{#1}--\bref{#2}} % Subsections-- ref.
\newcommand{\Subsecthrurefs}[2]{Subsections~\bref{#1}--\bref{#2}} % Subsections-- ref.
\newcommand{\subsubsecref}[1]{Subsubsection~\ref{#1}} % Subsubsection reference
\newcommand{\Subsubsecref}[1]{Subsubsection~\ref{#1}} % Subsubsection reference
\newcommand{\subsubsecrefs}[2]{Subsubsections~\ref{#1} and~\ref{#2}} % Subsubsections reference
\newcommand{\Subsubsecrefs}[2]{Subsubsections~\ref{#1} and~\ref{#2}} % Subsubsections reference
\newcommand{\subsubsecthrurefs}[2]{Subsubsections~\bref{#1}--\bref{#2}} % Subsubsections-- ref.
\newcommand{\Subsubsecthrurefs}[2]{Subsubsections~\bref{#1}--\bref{#2}} % Subsubsections-- ref.
\newcommand{\tabref}[1]{Table~\ref{#1}} % Table reference
\newcommand{\Tabref}[1]{Table~\ref{#1}} % Table reference
\newcommand{\tabrefs}[2]{Tables~\ref{#1} and~\ref{#2}} % Tables reference
\newcommand{\Tabrefs}[2]{Tables~\ref{#1} and~\ref{#2}} % Tables reference
\newcommand{\tabthrurefs}[2]{Tables~\bref{#1}--\bref{#2}} % Tables-- ref.
\newcommand{\Tabthrurefs}[2]{Tables~\bref{#1}--\bref{#2}} % Tables-- ref.

%
% Miscellaneous
%
\newcommand{\remark}[1]{\textbf{[Remark: #1]}}
\newcommand{\todo}[1]{\textbf{[#1]}}
\newcommand{\colloq}[1]{``#1''} % colloquialism 
\newcommand{\compfile}[1]{\texttt{#1}}
\newcommand{\compcode}[1]{\texttt{#1}}
\newcommand{\compcom}[1]{\texttt{#1}}
\newcommand{\compin}[1]{\texttt{#1}}
\newcommand{\compout}[1]{\texttt{#1}}

%
% Ions
%
\newcommand{\chemical}[1]{\ensuremath{\mathrm{#1}}} % chemical formulae
\newcommand{\conc}[2]{\ensuremath{ %
    [\mathrm{#1}]_{#2} %
    }} % concentration e.g. \conc{Na}{o} => [Na]_o
\newcommand{\ion}[2]{\ensuremath{\mathrm{{#1}^{#2}}}\xspace} % ion
\newcommand{\ionCa}{\ion{Ca}{2+}} % calcium ion
\newcommand{\ionCl}{\ion{Cl}{-}} % chloride ion
\newcommand{\ionH}{\ion{H}{+}} % hydrogen ion
\newcommand{\ionK}{\ion{K}{+}} % potassium ion
\newcommand{\ionMg}{\ion{Mg}{2+}} % magnessium ion
\newcommand{\ionNa}{\ion{Na}{+}} % sodium ion
\newcommand{\ionphosphate}{\ion{PO_{4}}{3-}} % phosphate ion
\newcommand{\ionbicarbonate}{\ion{HCO_{3}}{-}} % bicarbonate ion

%
% Units
%
\newcommand{\units}[1]{\ensuremath{\mathrm{#1}}\xspace} % units
\newcommand{\nunit}[2]{\ensuremath{ %
    #1~#2 %
    }} % number + unit e.g. \nunit{10}{\m} => 10 m
\newcommand{\nrunit}[3]{\ensuremath{ %
    #1\text{--}#2~#3 %
    }} % number range + unit e.g. \nrunit{10}{20}{\m} => 10--20 m

\newcommand{\ug}{\units{\mu g}} % micrograms
\newcommand{\mg}{\units{mg}} % milligrams
\newcommand{\g}{\units{g}} % grams
\newcommand{\kg}{\units{kg}} % kilograms
\newcommand{\dB}{\units{dB}} % decibels
\newcommand{\degC}{\units{\degree C}} % degrees Celcius
\newcommand{\kPa}{\units{kPa}} % kilopascals
\newcommand{\MPa}{\units{MPa}} % Megapascals
\newcommand{\GPa}{\units{GPa}} % Gigapascals
\newcommand{\N}{\units{N}} % Newtons
\newcommand{\kN}{\units{kN}} % kilonewtons
\newcommand{\ml}{\units{ml}} % millilitres
%\newcommand{\L}{\units{L}} % litres
\newcommand{\J}{\units{J}} % Joule
\newcommand{\Hz}{\units{Hz}} % Hertz
\newcommand{\kHz}{\units{kHz}} % kilohertz
\newcommand{\MHz}{\units{MHz}} % megahertz
\newcommand{\GHz}{\units{GHz}} % gigahertz
\newcommand{\nm}{\units{nm}} % nanometres
\newcommand{\um}{\units{\mu m}} % micrometres
\newcommand{\mm}{\units{mm}} % millimetres
\newcommand{\cm}{\units{cm}} % centimetres
\newcommand{\m}{\units{m}} % metres
\newcommand{\A}{\units{A}} % amps
\newcommand{\mA}{\units{mA}} % milliamps
\newcommand{\uA}{\units{\mu A}} % microamps
\newcommand{\nA}{\units{nA}} % nanoamps
\newcommand{\mM}{\units{mM}} % milliMolar
\newcommand{\mmol}{\units{mmol}} % millimolar
\newcommand{\us}{\units{\mu s}} % microseconds
\newcommand{\ms}{\units{ms}} % milliseconds
\newcommand{\s}{\units{s}} % seconds
\newcommand{\uS}{\units{\mu S}} % microSiemens
\newcommand{\mS}{\units{mS}} % milliSiemens
\newcommand{\V}{\units{V}} % volts
\newcommand{\mV}{\units{mV}} % millivolts
\newcommand{\uV}{\units{\mu V}} % micro volts
\newcommand{\ohm}{\units{\Omega}} % Ohms
\newcommand{\mohm}{\units{m\Omega}} % milli Ohms
\newcommand{\percent}{\units{\%}} % percent
\newcommand{\Henrys}{\units{H}} % Henrys
\newcommand{\uF}{\units{\mu F}} %micro-Farads
\newcommand{\bit}{\units{b}} % bit
\newcommand{\Byte}{\units{B}} % byte
\newcommand{\kB}{\units{kB}} % kilobyte
\newcommand{\MB}{\units{MB}} % megabyte
\newcommand{\GB}{\units{GB}} % gigabyte
\newcommand{\TB}{\units{TB}} % terabyte
\newcommand{\PB}{\units{PB}} % petabyte

% Derived units
%\newcommand{\unitseparator}{\cdot}
\newcommand{\unitseparator}{\thickspace}

\newcommand{\cmps}{\units{\cm\unitseparator\s^{-1}}} % centimetres/second
\newcommand{\Hpm}{\units{\H\unitseparator\m^{-1}}} % Henrys/metre
\newcommand{\kNpm}{\units{\kN\unitseparator\m^{-1}}} % kilo-Newtons/metre
\newcommand{\Lps}{\units{L\unitseparator\s^{-1}}} % litres/second
\newcommand{\mhom}{\units{\mho\unitseparator\m}} % mho-metres
\newcommand{\mhopm}{\units{\mho\unitseparator\m^{-1}}} % mho/metres
\newcommand{\mps}{\units{\m\unitseparator\s^{-1}}} % metres/second
\newcommand{\msqps}{\units{\m^{2}\unitseparator\s^{-1}}} % metres/second
\newcommand{\mpsps}{\units{\m\unitseparator\s^{-2}}} % metres/(second^2)
\newcommand{\mmps}{\units{\mm\unitseparator\s^{-1}}} % millimetres/second
\newcommand{\mmpms}{\units{\mm\unitseparator\ms^{-1}}} % millimetres/millisecond
\newcommand{\mmtwops}{\units{\mm^{2}\unitseparator\s^{-1}}} % millimetres squared/second
\newcommand{\mtwo}{\units{\m^{2}}} % metres squared
\newcommand{\mmtwo}{\units{\mm^{2}}} % millimetres squared
\newcommand{\mmthree}{\units{\mm^{3}}} % millimetres cubed
\newcommand{\pmetre}{\units{\m^{-1}}} % per meter n.g. \pm is plus-minus
\newcommand{\pcm}{\units{\cm^{-1}}} % per centimeter
\newcommand{\pum}{\units{\um^{-1}}} % per micrometer
\newcommand{\pmm}{\units{\mm^{-1}}} % per millimeter
\newcommand{\pms}{\units{\ms^{-1}}} % per millisecond
\newcommand{\uSpmmpmm}{\units{\uS\unitseparator\mm^{-2}}} % microSiemens per millimeter
\newcommand{\mSpmm}{\units{\mS\unitseparator\mm^{-1}}} % milliSiemens per millimeter
\newcommand{\Spm}{\units{S\unitseparator\m^{-1}}} % Siemens per meter
\newcommand{\Spmm}{\units{S\unitseparator\mm^{-1}}} % Siemens per millimeter
\newcommand{\nApmmpmm}{\units{\nA\unitseparator\mm^{-2}}} % nanoamps per millimeter^2
\newcommand{\uAmm}{\units{\mu A\unitseparator\mm}} % microamps millimeter
\newcommand{\uApmmpmm}{\units{\uA\unitseparator\mm^{-2}}} % microamps per millimeter^2
\newcommand{\uApmmpmmpmm}{\units{\uA\unitseparator\mm^{-3}}} % microamps per millimeter^3
\newcommand{\ohmcm}{\units{\ohm\unitseparator\cm}} % ohm-cm
\newcommand{\uFpmmpmm}{\units{\mu F\unitseparator\mm^{-2}}} %micro-Farads per millimeter squared
\newcommand{\uFpcmpcm}{\units{\mu F\unitseparator\cm^{-2}}} %micro-Farads per centimeter squared
\newcommand{\mmolpL}{\units{\mmol\unitseparator L^{-1}}} %milli-moles per Litre
\newcommand{\mmolpLpms}{\units{\mmol\unitseparator L^{-1}\unitseparator\ms^{-1}}} %milli-moles per Litre per millisecond
\newcommand{\mVpms}{\units{\mV\unitseparator\ms^{-1}}} %microvolts per millisecond
\newcommand{\mgpkg}{\units{\mg\unitseparator\kg^{-1}}} % milligram/kilogram

%
% Numbers
%
\newcommand{\tento}[1]{\ensuremath{ %
    10^{#1} %
}} % e.g. \tento{3} ten to the power of 3
\newcommand{\ttento}[1]{\ensuremath{ %
    \times \tento{#1} %
  }\xspace} % e.g. \ttento{5} => times ten the power of 5
\newcommand{\nttento}[2]{\ensuremath{ %
    #1\ttento{#2} %
}} % number times ten to power e.g. \nttento{2}{3} => 2 x 10^3

%
% Number formats
%
\newcommand{\nodenumber}[1]{\ensuremath{ %
    \textbf{#1} %
}} % format a node number to differentiate it
\newcommand{\nodenumberc}[2]{\ensuremath{ %
    \textbf{\textcolor{#1}#2} %
}} % format a node number with colour to differentiate it
\newcommand{\elementnumber}[1]{\ensuremath{ %
    \textit{#1} %
}} % format an element number to differentiate it
\newcommand{\elementnumberc}[2]{\ensuremath{ %
    \textit{\textcolor{#1}#2} %
}} % format an element number with colour to differentiate it
\newcommand{\datanumber}[1]{\ensuremath{ %
    \textit{#1} %
}} % format a data point number to differentiate it
\newcommand{\datanumberc}[2]{\ensuremath{ %
    \textit{\textcolor{#1}#2} %
}} % format a data point number with colour to differentiate it
\newcommand{\dofnumber}[1]{\ensuremath{ %
    \textrm{#1} %
}} % format a DOF number to differentiate it
\newcommand{\dofnumberc}[2]{\ensuremath{ %
    \textrm{\textcolor{#1}#2} %
}} % format a DOF number with colour to differentiate it
\newcommand{\localdofnumber}[1]{\ensuremath{ %
    \textit{#1} %
}} % format a local DOF number to differentiate it
\newcommand{\localdofnumberc}[2]{\ensuremath{ %
    \textit{\textcolor{#1}#2} %
}} % format a local DOF number with colour to differentiate it
\newcommand{\globaldofnumber}[1]{\ensuremath{ %
    \textrm{#1} %
}} % format a global DOF number to differentiate it
\newcommand{\globaldofnumberc}[2]{\ensuremath{ %
    \textrm{\textcolor{#1}#2} %
}} % format a global DOF number with colour to differentiate it
\newcommand{\localrownumber}[1]{\ensuremath{ %
    \textit{#1} %
}} % format a local row number to differentiate it
\newcommand{\localrownumberc}[2]{\ensuremath{ %
    \textit{\textcolor{#1}#2} %
}} % format a local row number with colour to differentiate it
\newcommand{\globalrownumber}[1]{\ensuremath{ %
    \textrm{#1} %
}} % format a global row number to differentiate it
\newcommand{\globalrownumberc}[2]{\ensuremath{ %
    \textrm{\textcolor{#1}#2} %
}} % format a global row number with colour to differentiate it
\newcommand{\localcolnumber}[1]{\ensuremath{ %
    \textit{#1} %
}} % format a local column number to differentiate it
\newcommand{\localcolnumberc}[2]{\ensuremath{ %
    \textit{\textcolor{#1}#2} %
}} % format a local column number with colour to differentiate it
\newcommand{\globalcolnumber}[1]{\ensuremath{ %
    \textbf{#1} %
}} % format a global column number to differentiate it
\newcommand{\globalcolnumberc}[2]{\ensuremath{ %
    \textbf{\textcolor{#1}#2} %
}} % format a global column number with colour to differentiate it

%
% Non-dimensional numbers
%
\newcommand{\nondimnumber}[1]{\ensuremath{ %
    \textit{#1} %
}} % formatting for a non-dimensional number
\newcommand{\brinkmannum}{\ensuremath{ %
    \nondimnumber{Br} % Brinkman number
}}
\newcommand{\froudenum}{\ensuremath{ %
    \nondimnumber{Fr} % Froude number
}}
\newcommand{\grashofnum}{\ensuremath{ %
    \nondimnumber{Gr} % Grashof number
}}
\newcommand{\machnum}{\ensuremath{ %
    \nondimnumber{Ma} % Mach number
}}
\newcommand{\nusseltnum}{\ensuremath{ %
    \nodimnumber{Nu} % Nusselt number
}}
\newcommand{\pecletnum}{\ensuremath{ %
    \nondimnumber{Pe} % Peclet number
}}
\newcommand{\prandtlnum}{\ensuremath{ %
    \nondimnumber{Pr} % Prandtl number
}}
\newcommand{\reynoldsnum}{\ensuremath{ %
    \nondimnumber{Re} % Reynolds number
}}
\newcommand{\schmidtnum}{\ensuremath{ %
    \nondimnumber{Sc} % Schmidt number
}}
\newcommand{\strouhalnum}{\ensuremath{ %
    \nondimnumber{St} % Strouhal number
}}

%
% Base numbers
%
\newcommand{\naturalnums}{\ensuremath{ %
    \mathbb{N} %
  }} % Natural numbers
\newcommand{\integernums}{\ensuremath{ %
    \mathbb{Z} %
  }} % Integer numbers
\newcommand{\positiveintnums}{\ensuremath{ %
    \mathbb{Z}^{+} %
  }} % Positive integer numbers
\newcommand{\realnums}{\ensuremath{ %
    \mathbb{R} %
  }} % Real numbers
\newcommand{\complexnums}{\ensuremath{ %
    \mathbb{C} %
  }} % Complex numbers
\newcommand{\quaternionnums}{\ensuremath{ %
    \mathbb{H} %
  }} % Quaternion numbers
\newcommand{\rationalnums}{\ensuremath{ %
    \mathbb{Q} %
  }} % Rational numbers
\newcommand{\irrationalnums}{\ensuremath{ %
    \mathbb{I} %
  }} % Irrational numbers

%
% Operators
% 

% Tensor/matrix operators
\DeclareMathOperator{\trop}{tr} % trace operator e.g., tr A
\DeclareMathOperator{\Trop}{Tr} % Trace operator e.g., Tr A
\DeclareMathOperator{\adjop}{adj} % adjoint e.g., adj A
\DeclareMathOperator{\symop}{sym} % symmetric operator e.g., sym A
\DeclareMathOperator{\Symop}{Sym} % Symmetric operator e.g., Sym A
\DeclareMathOperator{\skewop}{skw} % skew-symmetric operator e.g., skw A
\DeclareMathOperator{\Skewop}{Skw} % Skew-symmetric operator e.g., Skw A
\DeclareMathOperator{\devop}{dev} % deviatoric operator e.g., dev A
\DeclareMathOperator{\Devop}{Dev} % deviatoric operator e.g., Dev A
\DeclareMathOperator{\sphop}{sph} % spherical operator e.g., sph A
\DeclareMathOperator{\Sphop}{Sph} % Spherical operator e.g., Sph A
\DeclareMathOperator{\kerop}{ker} % kernal operator e.g., ker A
\DeclareMathOperator{\imgop}{im} % image operator e.g., im A
\DeclareMathOperator{\dimop}{dim} % dimension operator e.g., dim A
\DeclareMathOperator{\rankop}{rank} % rank operator e.g., rank A
\DeclareMathOperator{\spanop}{span} % span operator e.g., span A
\DeclareMathOperator{\volop}{vol} % volume operator e.g., vol A

%generic operators
\DeclareMathOperator{\signop}{sign} % sign operator e.g., span A

% 
% Brackets
%
\newcommand{\brac}[3]{\ensuremath{\left#1 #2 \right#3}} % bracket
\newcommand{\pbrac}[1]{\brac{(}{#1}{)}} % parenthesis () bracket
\newcommand{\pbracl}[1]{\brac{(}{#1}{.}} % parenthesis ( bracket
\newcommand{\pbracr}[1]{\brac{.}{#1}{)}} % parenthesis ) bracket
\newcommand{\bbrac}[1]{\brac{\{}{#1}{\}}} % braces {} bracket
\newcommand{\bbracl}[1]{\brac{\{}{#1}{.}} % braces { bracket
\newcommand{\bbracr}[1]{\brac{.}{#1}{\}}} % braces } bracket
\newcommand{\sqbrac}[1]{\brac{[}{#1}{]}} % square [] bracket
\newcommand{\sqbracl}[1]{\brac{[}{#1}{.}} % square [ bracket
\newcommand{\sqbracr}[1]{\brac{.}{#1}{]}} % square ] bracket
\newcommand{\abrac}[1]{\brac{<}{#1}{>}} % angle <> bracket
\newcommand{\abracl}[1]{\brac{<}{#1}{.}} % angle < bracket
\newcommand{\abracr}[1]{\brac{.}{#1}{>}} % angle > bracket
\newcommand{\dabrac}[1]{\brac{\ll}{#1}{\gg}} % double angle <<>> bracket
\newcommand{\dabracl}[1]{\brac{\ll}{#1}{.}} % double angle << bracket
\newcommand{\dabracr}[1]{\brac{.}{#1}{\gg}} % double angle >> bracket

%
% Sets
%
\newcommand{\set}[1]{\ensuremath{
    \bbrac{#1}
}} % e.g. \set{1,2,3} => {1,2,3}
\newcommand{\union}[2]{\uniontwo{#1,#2}} % Union
\newcommand{\uniontwo}[2]{\ensuremath{#1\cup#2}} % Two way union
\newcommand{\unionthree}[3]{\ensuremath{#1\cup#2\cup#3}} % Three way union
\newcommand{\unionfour}[4]{\ensuremath{#1\cup#2\cup#3\cup#4}} % Four way union
\newcommand{\intersection}[2]{\intersectiontwo{#1,#2}} % Intersection
\newcommand{\intersectiontwo}[2]{\ensuremath{#1\cap#2}} % Two way intersection
\newcommand{\intersectionthree}[3]{\ensuremath{#1\cap#2\cap#3}} % Three way intersection
\newcommand{\intersectionfour}[4]{\ensuremath{#1\cap#2\cap#3\cap#4}} % Four way intersection

%
% Topologies
%
\newcommand{\rntopology}[1]{\ensuremath{ %
    \ifthenelse{\equal{#1}{}}{ %
      \realnums}{ %
      \realnums^{#1} %
    } %
}} % R^n (real) topology
\newcommand{\cntopology}[1]{\ensuremath{ %
    \ifthenelse{\equal{#1}{}}{ %
      \complexnums}{ %
      \complexnums^{#1} %
    } %
}} % C^n (complex) topology
\newcommand{\sntopology}[1]{\ensuremath{ %
    \ifthenelse{\equal{#1}{}}{ %
      \mathbb{S}}{ %
      \mathbb{S}^{#1} %
    } %
}} % S^n (spherical) topology
\newcommand{\dntopology}[1]{\ensuremath{ %
    \ifthenelse{\equal{#1}{}}{ %
      \mathbb{D}}{ %
      \mathbb{D}^{#1} %
    } %
}} % D^n (discrete) topology
\newcommand{\rpntopology}[1]{\ensuremath{ %
    \ifthenelse{\equal{#1}{}}{ %
      \realnums P}{ %
      \realnums P^{#1} %
    } %
}} % RP^n (real projective) topology
\newcommand{\cpntopology}[1]{\ensuremath{ %
    \ifthenelse{\equal{#1}{}}{ %
      \complexnums P}{ %
      \complexnums P^{#1} %
    } %
}} % CP^n (complex projective) topology


%
% Functions
%
\newcommand{\fnof}[2]{\ensuremath{ %
    #1\brac{(}{#2}{)} %
}} % function of e.g. \fnof{x}{\xi} => x(xi)
\newcommand{\fntof}[2]{\ensuremath{ %
    \transpose{#1}\brac{(}{#2}{)} %
}} % function transpose of e.g. \fntof{x}{\xi} => x^T(xi)
\newcommand{\afnof}[2]{\ensuremath{ %
    #1\brac{<}{#2}{>} %
}} % angle bracket function of e.g. \afnof{x}{\xi} => x<xi>
\newcommand{\brfnof}[2]{\ensuremath{ %
    #1\brac{\{}{#2}{\}} %
}} % braces function of e.g. \brfnof{x}{\xi} => x{xi}
\newcommand{\sqfnof}[2]{\ensuremath{ %
    #1\brac{[}{#2}{]} %
}} % square function of e.g. \sqfnof{x}{\xi} => x[xi]
\newcommand{\circcomposition}[2]{%
  \circcompositiontwo{#1}{#2} %
} % composition with circ e.g. \circcomposition{A}{B(X)} => A o B(X)
\newcommand{\circcompositiontwo}[2]{\ensuremath{ %
    #1 \circ #2 %
}} % circ composition with two functions e.g. \circcompositiontwo{A}{B(X)} => A o B(X)
\newcommand{\circcompositionthree}[3]{\ensuremath{ %
    #1 \circ #2 \circ #3 %
}} % circ composition with three functions e.g. \circcompositionthree{A}{B}{C(X)} => A o B o C(X)
\newcommand{\circcompositionfour}[4]{\ensuremath{ %
    #1 \circ #2 \circ #3 \circ #4 %
}} % circ composition with four functions e.g. \circcompositionfour{A}{B}{C}{D(X)} => A o B o C o D(X)
\newcommand{\funccomposition}[2]{%
  \funccompositiontwo{#1}{#2} %
} % function composition e.g. \funccomposition{A}{B(X)} => A(B(X))
\newcommand{\funccompositiontwo}[2]{\ensuremath{ %
    \fnof{#1}{#2} %
}} % function composition with two functions e.g. \funccompositiontwo{A}{B(X)} => A(B(X))
\newcommand{\funccompositionthree}[3]{\ensuremath{ %
    \fnof{#1}{\fnof{#2}{#3}} %
}} % function composition with three functions e.g. \funccompositionthree{A}{B}{C(X)} => A(B(C(X)))
\newcommand{\funccompositionfour}[4]{\ensuremath{ %
    \fnof{#1}{\fnof{#2}{\fnof{#3}{#4}}} %
}} % function composition with four functions e.g. \funccompositionfour{A}{B}{C}{D(X)} => A(B(C(D(X))))
\newcommand{\composition}[2]{%
  \funccomposition{#1}{#2} %
} % composition e.g. \composition{A}{B(X)} => A(B(X))
\newcommand{\compositiontwo}[2]{%
  \funccompositiontwo{#1}{#2} %
} % composition with two functions e.g. \compositiontwo{A}{B(X)} => A(B(X))
\newcommand{\compositionthree}[3]{%
  \funccompositionthree{#1}{#2}{#3} %
} % composition with three functions e.g. \compositionthree{A}{B}{C(X)} => A(B(C(X)))
\newcommand{\compositionfour}[4]{%
  \funccompositiontfour{#1}{#2}{#3}{#4} %
} % composition with four functions e.g. \compositiontfour{A}{B}{C}{D(X)} => A(B(C(D(X))))

%
% Commonly-used Math Symbols and operations
%
\newcommand{\abs}[1]{\brac{|}{#1}{|}} % absolute value
\newcommand{\complex}[1]{\ensuremath{ %
  \boldsymbol{\textrm{#1}} %
}} %% complex number format e.g. \complex{i} => i
\newcommand{\conjugate}[1]{\ensuremath{ %
    \overline{#1} %                                _
}} %% complex conjugate e.g. \conjugate{Z} => Z
\newcommand{\const}[1]{\ensuremath{\mathrm{#1}}} % constant
\newcommand{\cont}[1]{\ensuremath{C^{#1}}} % continuity e.g. \cont{1} => C1
\newcommand{\gcont}[1]{\ensuremath{G^{#1}}} % geometric continuity e.g. \gcont{1} => G1
\newcommand{\convolution}[2]{\ensuremath{#1*#2}} % convolution
% e.g. \convolution{a}{b} => a*b
\newcommand{\cuberoot}[1]{\ensuremath{ %7
    \sqrt[3]{#1} %
  }} % cube root e.g. \cuberoot{a} = 3\sqrt{a}
\newcommand{\degree}{\ensuremath{^{\circ}}\xspace} % degree sign
\newcommand{\del}{\ensuremath{\partial}} % partial derivative sign
\newcommand{\derivativeop}[2]{
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\fnof{D}{#2}}
  }{
    \ensuremath{\fnof{D_{#1}}{#2}} % 
  }} % derivative operator e.g. \derivativeop{}{f} => Da & \derivativeop{x}{f} => D_{x}a
\newcommand{\hessianop}[2]{
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\fnof{D^{2}}{#2}}
  }{
    \ensuremath{\fnof{D^{2}_{#1}}{#2}} % 
  }} % Hessian operator e.g. \hessianop{}{f} => D^2a & \hessianop{x}{f} => D^{2}_{x}a
\newcommand{\directionalderiv}[3]{\ensuremath{
    \sqfnof{\derivativeop{#1}{#2}}{#3}
}} % directional derivative e.g., \directionalderiv{x}{f}{u} => D_x(f)[u]
\newcommand{\dotover}[1]{\ensuremath{ %
    \stackrel{\scriptscriptstyle \bullet}{#1} %
    }} % time derivative
\newcommand{\ddotover}[1]{\ensuremath{ %
    \stackrel{\scriptscriptstyle \bullet\bullet}{#1} %
    }} % double time derivative
\newcommand{\evalat}[2]{\ensuremath{ %
    \brac{.}{#1}{|}_{#2} %
    }} % Evaluation at e.g. \evalat{x}{1} => x|_1
\newcommand{\factorial}[1]{\ensuremath{\pbrac{#1}!}} % factorial e.g. \factorial{n} => (n)!
\newcommand{\genlimit}[2]{\ensuremath{ %
    \operatornamewithlimits{\lim}_{#1\rightarrow#2}
    }} % general limit e.g. \genlimit{a}{b} => lim a->b
\newcommand{\grad}{\ensuremath{ %
    \nabla %
}} % gradient
\newcommand{\gradnondim}{\ensuremath{ %
    \nondim{\nabla} %
}} % gradient non dimensional
\newcommand{\gradsq}{\ensuremath{ %
    \nabla^{2} %
}} % gradient squared 
\newcommand{\gradsqnondim}{\ensuremath{ %
    \nondimsup{\nabla}{2} %
}} % gradient non dimensional squared 
\newcommand{\hessop}{\ensuremath{ %
    H %
}} % Hessian op
\newcommand{\hessopnondim}{\ensuremath{ %
    \nondimsup{H} %
}} % Hessian op non dimensional
\newcommand{\functional}[2]{\ensuremath{ %
    #1\sqbrac{#2} %
}} % functional e.g., \functional{f}{a} => f[a]
\newcommand{\functionalderiv}[2]{\ensuremath{ %
    \delta #1
}} % functional deriv e.g., \functionalderiv{f} => \delta f
\newcommand{\inteval}[3]{\ensuremath{ %
    \displaystyle\sqbrac{#1}_{#2}^{#3} %
}} % display evaluated integral with limits e.g. \inteval{xxx}{a}{b} => [xxx]_a^b
\newcommand{\inverse}[1]{\ensuremath{ %
    {#1}^{-1} %
}} % inverse e.g. \inverse{A} => A^-1
\newcommand{\invsquared}[1]{\ensuremath{ %
    {#1}^{-2} %
}} % inverse squared e.g. \invsquared{A} => A^-2
\newcommand{\kroneckersymbol}{\ensuremath{ %
    \delta %
}} % kronecker delta symbol
\newcommand{\sharpkroneckertwo}[2]{\ensuremath{ %
    \kroneckersymbol^{{#1}{#2}} %
}} % second order sharp kronecker delta e.g., \sharpkroneckertwo{i}{j} => \delta^{ij}
\newcommand{\sharpkroneckerthree}[3]{\ensuremath{ %
    \kroneckersymbol^{{#1}{#2}{#3}} %
}} % third order sharp kronecker delta e.g., \sharpkroneckerthree{i}{j}{k} => \delta^{ijk}
\newcommand{\sharpkroneckerfour}[4]{\ensuremath{ %
    \kroneckersymbol^{{#1}{#2}{#3}{#4}} %
}} % fourth order sharp kronecker delta e.g., \sharpkroneckerfour{i}{j}{k}{l} => \delta^{ijkl}
\newcommand{\sharpkronecker}[2]{\ensuremath{ %
    \sharpkroneckertwo{#1}{#2} %
}} % sharp kronecker delta (default to second-order) e.g., \sharpkronecker{i}{j} => \delta^{ij}
\newcommand{\contrakroneckertwo}[2]{\ensuremath{ %
    \sharpkroneckertwo{#1}{#2} %
}} % second order contravariant kronecker delta e.g., \contrakroneckertwo{i}{j} => \delta^{ij}
\newcommand{\contrakroneckerthree}[3]{\ensuremath{ %
    \sharpkroneckerthree{#1}{#2}{#3} %
}} % third order contravariant kronecker delta e.g., \contrakroneckerthree{i}{j}{k} => \delta^{ijk}
\newcommand{\contrakroneckerfour}[4]{\ensuremath{ %
    \sharpkroneckerfour{#1}{#2}{#3}{#4} %
}} % fourth order contravariant kronecker delta e.g., \contrakroneckerfour{i}{j}{k}{l} => \delta^{ijkl}
\newcommand{\contrakronecker}[2]{\ensuremath{ %
    \contrakroneckertwo{#1}{#2} %
}} % contravariant kronecker delta (default to second-order) e.g., \contrakronecker{i}{j} => \delta^{ij}
\newcommand{\flatkroneckertwo}[2]{\ensuremath{ %
    \kroneckersymbol_{{#1}{#2}} %
}} % second order flat kronecker delta e.g., \flatkroneckertwo{i}{j} => \delta_{ij}
\newcommand{\flatkroneckerthree}[3]{\ensuremath{ %
    \kroneckersymbol_{{#1}{#2}{#3}} %
}} % third order flat kronecker delta e.g., \flatkroneckerthree{i}{j}{k} => \delta_{ijk}
\newcommand{\flatkroneckerfour}[4]{\ensuremath{ %
    \kroneckersymbol_{{#1}{#2}{#3}{#4}} %
}} % fourth order flat kronecker delta e.g., \flatkroneckerfour{i}{j}{k}{l} => \delta_{ijkl}
\newcommand{\flatkronecker}[2]{\ensuremath{ %
    \flatkroneckertwo{#1}{#2} %
}} % flat kronecker delta (default to second-order) e.g., \flatkronecker{i}{j} => \delta_{ij}
\newcommand{\covarkroneckertwo}[2]{\ensuremath{ %
    \flatkroneckertwo{#1}{#2} %
}} % second order covariant kronecker delta e.g., \contrakroneckertwo{i}{j} => \delta_{ij}
\newcommand{\covarkroneckerthree}[3]{\ensuremath{ %
    \flatkroneckerthree{#1}{#2}{#3} %
}} % third order covariant kronecker delta e.g., \contrakroneckerthree{i}{j}{k} => \delta_{ijk}
\newcommand{\covarkroneckerfour}[4]{\ensuremath{ %
    \flatkroneckerfour{#1}{#2}{#3}{#4} %
}} % fourth order covariant kronecker delta e.g., \contrakroneckerfour{i}{j}{k}{l} => \delta_{ijkl}
\newcommand{\covarkronecker}[2]{\ensuremath{ %
    \flatkroneckertwo{#1}{#2} %
}} % covariant kronecker delta (default to second order) e.g., \contrakronecker{i}{j} => \delta_{ij}
\newcommand{\mixedkronecker}[2]{\ensuremath{ %
    \kroneckersymbol^{#1}_{#2} %
}} % mixed kronecker delta e.g., \mixedkronecker{i}{j} => \delta_{i}^{j}
\newcommand{\mixedkroneckertwo}[2]{\ensuremath{ %
    \mixedkronecker{#1}{#2} %
}} % second order mixed kronecker delta tensor (for completeness) e.g., \mixedkroneckertwo{i}{j} => \delta_{i}^{j}
\newcommand{\mixedkroneckerthree}[2]{\ensuremath{ %
    \mixedkronecker{#1}{#2} %
}} % third order mixed kronecker delta tensor (for completeness) e.g., \mixedkroneckerthree{i}{j} => \delta_{i}^{j}
\newcommand{\mixedkroneckerfour}[2]{\ensuremath{ %
    \mixedkronecker{#1}{#2} %
}} % forth order mixed kronecker delta tensor (for completeness) e.g., \mixedkroneckerfour{i}{j} => \delta_{i}^{j}
\newcommand{\kronecker}[2]{ %
  \flatkronecker{#1}{#2} %
} % Kronecker delta tensor. Default to flat.
\newcommand{\levicivitasymbol}{\ensuremath{ %
    \epsilon %
}} % Levi-Civita symbol e.g., \levicivitasymbol => \epsilon
\newcommand{\sharplevicivitatwo}[2]{\ensuremath{ %
    \levicivitasymbol^{{#1}{#2}} %
}} % second order sharp Levi-Civita symbol e.g., \sharplevicivitatwo{i}{j} => \epsilon^{ij}
\newcommand{\sharplevicivitathree}[3]{\ensuremath{ %
    \levicivitasymbol^{{#1}{#2}{#3}} %
}} % third order sharp Levi-Civita symbol e.g., \sharplevicivitathree{i}{j}{k} => \epsilon^{ijk}
\newcommand{\sharplevicivitafour}[4]{\ensuremath{ %
    \levicivitasymbol^{{#1}{#2}{#3}{#4}} %
}} % fourth order sharp Levi-Civita symbol e.g., \sharplevicivitafour{i}{j}{k}{l} => \epsilon^{ijkl}
\newcommand{\sharplevicivita}[3]{\ensuremath{ %
    \levicivitasymbol^{{#1}{#2}{#3}} %
}} % sharp Levi-Civita symbol (default to third order) e.g., \sharplevicivita{i}{j}{k} => \epsilon^{ijk}
\newcommand{\flatlevicivitatwo}[2]{\ensuremath{ %
    \levicivitasymbol_{{#1}{#2}} %
}} % second order flat Levi-Civita symbol e.g., \flatlevicivitathwo{i}{j} => \epsilon_{ij}
\newcommand{\flatlevicivitathree}[3]{\ensuremath{ %
    \levicivitasymbol_{{#1}{#2}{#3}} %
}} % third order flat Levi-Civita symbol e.g., \flatlevicivitathree{i}{j}{k} => \epsilon_{ijk}
\newcommand{\flatlevicivitafour}[4]{\ensuremath{ %
    \levicivitasymbol_{{#1}{#2}{#3}{#4}} %
}} % fourth order flat Levi-Civita symbol e.g., \flatlevicivitafour{i}{j}{k}{l} => \epsilon_{ijkl}
\newcommand{\flatlevicivita}[3]{\ensuremath{ %
    \flatlevicivitathree{#1}{#2}{#3} %
}} % flat Levi-Civita symbol (default to third order) e.g., \flatlevicivita{i}{j}{k} => \epsilon_{ijk}
\newcommand{\mixedlevicivita}[2]{\ensuremath{ %
    \levicivitasymbol^{#1}_{#2} %
}} % mixed Levi-Civita e.g., \mixedlevicivita{i}{j} => \epsilon_{i}^{j}
\newcommand{\mixedlevicivitatwo}[2]{\ensuremath{ %
    \mixedlevicivita{#1}{#2} %
}} % second order mixed Levi-Civita (for completeness) e.g., \mixedlevicivitatwo{i}{j} => \epsilon_{i}^{j}
\newcommand{\mixedlevicivitathree}[2]{\ensuremath{ %
    \mixedlevicivita{#1}{#2} %
}} % third order mixed Levi-Civita (for completeness) e.g., \mixedlevicivitathree{i}{j} => \epsilon_{i}^{j}
\newcommand{\mixedlevicivitafour}[2]{\ensuremath{ %
    \mixedlevicivita{#1}{#2} %
}} % fourth order mixed Levi-Civita (for completeness) e.g., \mixedlevicivitafour{i}{j} => \epsilon_{i}^{j}
\newcommand{\levicivita}[3]{ %
  \flatlevicivita{#1}{#2}{#3} %
} % Levi-Civita permutation symbol. Default to flat.
\newcommand{\permutationsymbol}{\ensuremath{ %
    \levicivitasymbol %
}} % permutation symbol e.g., \permutationsymbol => \epsilon
\newcommand{\sharppermutationtwo}[2]{\ensuremath{ %
    \sharplevitcivitatwo{#1}{#2} %
}} % third order sharp permutation symbol e.g., \sharppermutationthree{i}{j}{k} => \epsilon^{ijk}
\newcommand{\sharppermutationthree}[3]{\ensuremath{ %
    \sharplevitcivitathree{#1}{#2}{#3} %
}} % third order sharp permutation symbol e.g., \sharppermutationthree{i}{j}{k} => \epsilon^{ijk}
\newcommand{\sharppermutationfour}[4]{\ensuremath{ %
    \sharplevitcivitafour{#1}{#2}{#3}{#4} %
}} % fourth order sharp permutation symbol e.g., \sharppermutationfour{i}{j}{k}{l} => \epsilon^{ijkl}
\newcommand{\sharppermutation}[3]{\ensuremath{ %
    \sharplevitcivita{#1}{#2}{#3} %
}} % sharp permutation symbol (default to third order) e.g., \sharppermutation{i}{j}{k} => \epsilon^{ijk}
\newcommand{\flatpermutationtwo}[2]{\ensuremath{ %
    \flatlevicivitatwo{#1}{#2} %
}} % second order flat permutation symbol e.g., \flatpermutationtwo{i}{j} => \epsilon_{ij}
\newcommand{\flatpermutationthree}[3]{\ensuremath{ %
    \flatlevicivitathree{#1}{#2}{#3} %
}} % third order flat permutation symbol e.g., \flatpermutationthree{i}{j}{k} => \epsilon_{ijk}
\newcommand{\flatpermutationfour}[4]{\ensuremath{ %
    \flatlevicivitafour{#1}{#2}{#3}{#4} %
}} % fourth order flat permutation symbol e.g., \flatpermutationfour{i}{j}{k}{l} => \epsilon_{ijkl}
\newcommand{\flatpermutation}[3]{\ensuremath{ %
    \flatlevicivita{#1}{#2}{#3} %
}} % flat permutation symbol (default to third order) e.g., \flatpermutation{i}{j}{k} => \epsilon_{ijk}
\newcommand{\mixedpermutation}[2]{\ensuremath{ %
    \mixedlevicivita{#1}{#2} %
}} % mixed permutation symbol e.g., \mixedpermutation{i}{j} => \epsilon_{i}^{j}
\newcommand{\mixedpermutationtwo}[2]{\ensuremath{ %
    \mixedpermutation{#1}{#2} %
}} % second order mixed permutation symbol (for completeness) e.g., \mixedpermutationtwo{i}{j} => \epsilon_{i}^{j}
\newcommand{\mixedpermutationthree}[2]{\ensuremath{ %
    \mixedpermutation{#1}{#2} %
}} % third order mixed permutation symbol (for completeness) e.g., \mixedpermutationthree{i}{j} => \epsilon_{i}^{j}
\newcommand{\mixedpermutationfour}[2]{\ensuremath{ %
    \mixedpermutation{#1}{#2} %
}} % fourth order mixed permutation symbol (for completeness) e.g., \mixedpermutationfour{i}{j} => \epsilon_{i}^{j}
\newcommand{\permutation}[3]{ %
  \levicivita{#1}{#2}{#3} %
} % Permutation symbol. Default to third order.
\newcommand{\linearisationdirsymbol}{\ensuremath{ %
    \Delta%
    }} % linearisation direction symbol => \Delta
\newcommand{\linearisationdir}[1]{\ensuremath{ %
    \linearisationdirsymbol #1%
    }} % linerarisation direction e.g. \linearisationdir{f} => \Delta f
\newcommand{\linearisation}[3]{ %
  \ifthenelse{\equal{#2}{}}{ %
    \ensuremath{\sqfnof{\fnof{L}{#1}}{\linearisationdir{#3}}} %
  }{ %
    \ensuremath{\sqfnof{\fnof{L_{#2}}{#1}}{\linearisationdir{#3}}} % 
  }} % linearisation e.g. \linearisation{f}{}{u} => L(f)[\Delta u] &
     % \linearisation{f}{x}{u} => L_x(f)[\Delta u]
\newcommand{\liebracket}[2]{\ensuremath{ %
    \sqbrac{#1,#2} %
}} % Lie bracket e.g.,\liebracket{X}{Y} => [X,Y]
\newcommand{\liederiv}[2]{\ensuremath{ %
    \mathcal{L}_{#1} #2
}} % Lie derivative e.g., \liederiv{X}{Y} => L_{X} Y
\newcommand{\limit}[3]{\ensuremath{ %
    \operatornamewithlimits{\lim}_{#1\rightarrow#2} #3 %
    }} % limit e.g. \limit{a}{b}{c} => lim a->b c
\newcommand{\limita}[3]{\ensuremath{ %
    \operatornamewithlimits{\lim}_{#1\downarrow#2} #3 %
    }} % limit from above e.g. \limita{a}{b}{c} => lim a->b c
\newcommand{\limitb}[3]{\ensuremath{ %
    \operatornamewithlimits{\lim}_{#1\uparrow#2} #3 %
    }} % limit from below e.g. \limita{a}{b}{c} => lim a->b c
\newcommand{\lnorm}[2]{\ensuremath{ %
    {\brac{\|}{#2}{\|}_{#1}} %
    }} % l-n norm e.g. \lnorm{x}{3} => ||x||_3
\newcommand{\mapping}[3]{\ensuremath{ %
    #1:#2\rightarrow#3 %
}} % mapping e.g. \mapping{a}{b}{c} => a:b->c
\newcommand{\nondim}[1]{\ensuremath{ %
    {#1}^{'} %
}} % non dimensional e.g.,\nondim{X} => X'
\newcommand{\nondimsup}[2]{\ensuremath{ %
    {#1}^{'#2} %
}} % non dimensional with superscript e.g.,\nondimsup{X}{2} => X^{'2}
\newcommand{\nth}[1]{\ensuremath{{#1}^{\text{th}}}} % ^th e.g. \nth{n} => n^th
\newcommand{\orderof}[1]{\ensuremath{\fnof{\mathrm{O}}{#1}}} % order e.g. O(n)
\newcommand{\pochhammer}[2]{\ensuremath{ %
    \pbrac{#1}_{#2} %
}} % Pochhammer polynomial e.g. \pochhammer{a}{n} => (a)_n n.b. (a)_n =
% (a,n) where (a,n) is Appell's symbol.
\newcommand{\poissonbracket}[2]{\ensuremath{ %
    \bbrac{#1,#2} %
}} % Poisson bracket e.g.,\poissonbracket{X}{Y} => {X,Y}
\newcommand{\sign}[1]{\ensuremath{
    \fnof{\signop}{#1} %
}} % sign function
\newcommand{\symover}[2]{\ensuremath{
    \stackrel{\scriptscriptstyle #1}{#2} %
}} % over
\newcommand{\variationsymbol}{\ensuremath{ %
    \delta%
    }} % variation symbol => \delta
\newcommand{\variationdir}[1]{\ensuremath{ %
    \variationsymbol #1%
    }} % variation direction e.g. \variationdir{f} => \delta f
\newcommand{\variation}[2]{\ensuremath{ %
    \sqfnof{\variationsymbol #1}{\variationdir{#2}}%
    }} % variation e.g. \variation{f}{u} => \delta f[\delta u]

%
% Sums, unions, intersections
%

\newcommand{\dsum}{\ensuremath{ %
    \displaystyle\sum %
}} % display summation
\newcommand{\dsuml}[2]{\ensuremath{ %
    \displaystyle\sum_{#1}^{#2} %
}} % display summation with limits
\newcommand{\gsum}[3]{\ensuremath{ %
    \dsuml{#1}{#2}\,#3 %
}} % general sum e.g. \gsum{a}{b}{c} => sum_a^b c
\newcommand{\gssum}[5]{\ensuremath{ %
    \dsuml{#1}{#2}\dsuml{#3}{#4}\,#5 %
}} % general double sum e.g. \gsum{a}{b}{c}{d}{e} => sum_a^b sum_c^d e
\newcommand{\gonesum}[2]{\ensuremath{ %
    \gsum{#1}{}{#2} %
}} % general sum with one limit e.g. \gonesum{a}{b} => sum_a b
\newcommand{\dunion}{\ensuremath{ %
    \displaystyle\bigcup %
}} % display union
\newcommand{\gunion}[3]{\ensuremath{ %
    \dunion_{#1}^{#2}\,#3 %
}} % general union e.g. \gunion{a}{b}{c} => union_a^b c
\newcommand{\dintersection}{\ensuremath{ %
    \displaystyle\bigcap %
}} % display intersection
\newcommand{\gintersection}[3]{\ensuremath{ %
    \dintersection_{#1}^{#2}\,#3 %
}} % general intersection e.g. \gintersection{a}{b}{c} => intersection_a^b c

%
% Products
%
\newcommand{\dprod}{\ensuremath{ %
    \displaystyle\prod %
}} % display product
\newcommand{\dprodl}[2]{\ensuremath{ %
    \displaystyle\prod_{#1}^{#2} %
}} % display product with limits
\newcommand{\gprod}[3]{\ensuremath{ %
    \dprodl{#1}{#2}\,#3 %
}} % general product e.g. \gprod{a}{b}{c} => prod_a^b c

%
% Integrals
%
\newcommand{\dint}{\ensuremath{ %
    \displaystyle\int %
}} % display integral
\newcommand{\dintl}[2]{\ensuremath{ %
    \displaystyle\int\limits_{#1}^{#2} %
}} % display integral with limits
\newcommand{\infinitesimal}[1]{\ensuremath{ %
    \,\exteriorderivop #1 %
}} % infinitesimal for a variable e.g., \infinitesimal{x} => dx
\newcommand{\infinitesimalone}[1]{\ensuremath{ %
    \infinitesimal{#1} %
}} % infinitesimal for one variable e.g., \infinitesimalone{x} => dx
\newcommand{\infinitesimaltwo}[2]{\ensuremath{ %
    \,\exteriorprodtwo{\exteriorderivop #1}{\exteriorderivop #2}%
}} % infinitesimal for two variables e.g., \infinitesimaltwo{x}{y} => dx^dy
\newcommand{\infinitesimalthree}[3]{\ensuremath{ %
    \,\exteriorprodthree{\exteriorderivop #1}{\exteriorderivop #2}{\exteriorderivop #3}%
}} % infinitesimal for three variables e.g., \infinitesimalthree{x}{y}{z} => dx^dy^dz
\newcommand{\gint}[4]{\ensuremath{ %
    \ifthenelse{\equal{#4}{}}{ %
      \dintl{#1}{#2}\,#3 %
    }{
      \dintl{#1}{#2}\,#3\infinitesimal{#4} %
    }
}} % general integral with two limits. e.g. \gint{a}{b}{xxx}{c} => int_a^b xxx dc
\newcommand{\giint}[7]{\ensuremath{ %
    \dintl{#1}{#2}\!\dintl{#3}{#4}\,#5\infinitesimaltwo{#6}{#7} %
}} % general double integral with two limits. e.g. \giint{a}{b}{c}{d}{xxx}{e}{f} => int_a^b int_c^d xxx dedf
\newcommand{\giiint}[8]{\ensuremath{ %
    \dintl{#1}{#2}\!\dintl{#3}{#4}\!\dintl{#5}{#6}\,#7 #8 %
}} % general triple integral with two limits. e.g. \giiint{a}{b}{c}{d}{e}{f}{xxx}{g} => int_a^b int_c^d int_e^f xxx g
\newcommand{\goneint}[2]{\ensuremath{ %
    \gint{#2}{}{#1}{#2} %
}} % general integral with one limit. eg. \goneint{xxx}{a} => int_a xxx da

%
% Special functions and named polynomials
%
\newcommand{\firstbesselfn}[2]{\ensuremath{ %
    \fnof{J_{#1}}{#2} %
}} % Bessel function of the first kind e.g., \firstbesselfn{1}{x} => J_1(x)
\newcommand{\secondbesselfn}[2]{\ensuremath{ %
    \fnof{Y_{#1}}{#2} %
}} % Bessel function of the second kind e.g., \secondbesselfn{0}{x} => Y_0(x)
\newcommand{\modfirstbesselfn}[2]{\ensuremath{ %
    \fnof{I_{#1}}{#2} %
}} % modified Bessel function of the first kind e.g., \modfirstbesselfn{1}{x} => I_1(x)
\newcommand{\modsecondbesselfn}[2]{\ensuremath{ %
    \fnof{K_{#1}}{#2} %
}} % modified Bessel function of the second kind e.g., \modsecondbesselfn{0}{x} => K_0(x)
\newcommand{\firstchebyshevpoly}[2]{\ensuremath{ %
    \fnof{T_{#1}}{#2} %
}} % Chebyshev polynomail of the first kind e.g., \firstchebyshevpoly{1}{x} => T_1(x)
\newcommand{\secondchebyshevpoly}[2]{\ensuremath{ %
    \fnof{U_{#1}}{#2} %
}} % Chebyshev polynomial of the second kind e.g., \secondchebyshevpoly{0}{x} => U_0(x)
\newcommand{\gammafn}[1]{\ensuremath{ %
    \fnof{\Gamma}{#1} %
}} % Gamma function e.g. \gammafn{z} => \Gamma(x)
\newcommand{\gegenbauerpoly}[3]{\ensuremath{ %
    \fnof{C_{#1}^{#2}}{#3} %
}} % gegenbauer polynomial e.g. \gengenbauerpoly{1}{2}{x} => C_1^2(x)
\newcommand{\hermitepoly}[3]{\ensuremath{ %
    \fnof{H_{#1}}{#2} %
}} % Hermite polynomial e.g., \hermitepoly{2}{x} => H_2(x)
\newcommand{\laguerrepoly}[3]{\ensuremath{ %
    \fnof{L_{#1}}{#2} %
}} % Laguerre polynomial e.g., \laguerrepoly{1}{x} => L_1(x)
\newcommand{\firstlegendrepoly}[3]{\ensuremath{ %
    \fnof{P_{#1}^{#2}}{#3} %
}} % Legendre polynomial of the first kind e.g., \firstlegendrepoly{\lambda}{\mu}{x} => P_\lambda^\mu(x)
\newcommand{\secondlegendrepoly}[3]{\ensuremath{ %
    \fnof{Q_{#1}^{#2}}{#3} %
}} % Legendre polynomial of the second kind e.g., \secondlegendrepoly{\lambda}{\mu}{x} => Q_\lambda^\mu(x)
\newcommand{\sphericalharmonicfn}[4]{\ensuremath{%
    \fnof{Y_{{#1}{#2}}^{#3}}{#4} %
}} % Spherical harmonic function e.g. \sphericalharmonicfn{a}{b}{c}{d} => Y_ab^c(d)

%
%  Fractions
%
%\newcommand{\dfrac}[2]{\ensuremath{ %
%    \dfrac{\displaystyle #1}{\displaystyle #2} %
%    }} % display fraction
\newcommand{\dby}[2]{\ensuremath{ %
    \dfrac{ d #1}{d #2} %
    }} % e.g. \dby{u}{v} => d u / d v
\newcommand{\dbyat}[3]{\ensuremath{ %
    \evalat{\dfrac{ d #1}{d #2}}{#3} %
    }} % e.g. \dbyat{u}{v}{a} => d u / d v | _{a}
\newcommand{\Dby}[2]{\ensuremath{ %
    \dfrac{ D #1}{D #2} %
    }} % e.g. \Dby{u}{v} => D u / D v i.e. the full derivative
\newcommand{\dtwoby}[3]{\ensuremath{ %
    \dfrac{ d^{2} #1}{d #2 d #3} %
    }} % e.g. \dtwoby{u}{x}{y} => d^2 u / d x d y
\newcommand{\dtwosqby}[2]{\ensuremath{ %
    \dfrac{ d^{2} #1}{d {#2}^{2}} %
    }} % e.g. \dtwosqby{u}{x} => d^2 u / d x^2
\newcommand{\dthreeby}[4]{\ensuremath{ %
    \dfrac{ d^{3} #1}{d #2 d #3 d #4} %
    }} % e.g. \dthreeby{u}{x}{y}{z} => d^2 u / d x d y d z
\newcommand{\dnby}[3]{\ensuremath{ %
    \dfrac{ d^{#1} #2}{d {#3}^{#1}} %
    }} % e.g. \dnby{3}{u}{v} => d^3 u / d v^3
\newcommand{\dntwoby}[6]{\ensuremath{ %
    \dfrac{ d^{#1} #2}{d {#3}^{#4} d {#5}^{#6}} %
    }} % e.g. \dntwoby{3}{u}{x}{1}{y}{2} => d^3 u / d x d y^2
\newcommand{\delby}[2]{\ensuremath{ %
    \dfrac{\del #1}{\del #2} %
    }} % e.g. \delby{u}{v} => del u / del v
\newcommand{\deltwoby}[3]{\ensuremath{ %
    \dfrac{\del^{2} #1}{\del #2 \del #3} %
    }} % e.g. \delnby{u}{x}{y} => del^2 u / del x del y
\newcommand{\deltwosqby}[2]{\ensuremath{ %
    \dfrac{\del^{2} #1}{\del {#2}^{2}} %
    }} % e.g. \delnby{u}{x} => del^2 u / del x^2
\newcommand{\delthreeby}[4]{\ensuremath{ %
    \dfrac{ \del^{3} #1}{\del #2 \del #3 \del #4} %
    }} % e.g. \delthreeby{u}{x}{y}{z} => del^3 u / del x del y del z
\newcommand{\delthreecuby}[2]{\ensuremath{ %
    \dfrac{ \del^{3} #1}{\del #2^{3}} %
    }} % e.g. \delthreecuby{u}{x} => del^3 u / del x^3
\newcommand{\deldeltwoby}[3]{\ensuremath{ %
    \dfrac{ \del^{3} #1}{\del #2 \del #3^{2}} %
    }} % e.g. \deldeltwoby{u}{x}{y} => del^3 u / del x del y^2
\newcommand{\deltwodelby}[3]{\ensuremath{ %
    \dfrac{ \del^{3} #1}{\del #2^{2} \del #3} %
    }} % e.g. \deltwodelby{u}{x}{y} => del^3 u / del x^2 del y
\newcommand{\delnby}[4]{\ensuremath{ %
    \dfrac{\del^{#1} #2}{\del #3^{#4}} %
    }} % e.g. \delnby{3}{u}{v} => del^3 u / del v^3
\newcommand{\delntwoby}[6]{\ensuremath{ %
    \dfrac{ \del^{#1} #2}{\del {#3}^{#4} \del {#5}^{#6}} %
    }} % e.g. \delntwoby{3}{u}{x}{1}{y}{2} => del^3 u / del x del y^2
\newcommand{\delnthreeby}[8]{\ensuremath{ %
    \dfrac{ \del^{#1} #2}{\del {#3}^{#4} \del {#5}^{#6} \del {#7}^{#8}} %
    }} % e.g. \delnthreeby{5}{u}{x}{1}{y}{2}{z}{2} => del^5 u / del x del y^2 del z^2
\newcommand{\hdby}[2]{ %
  \dby{}{#2}\pbrac{#1} %
  } % horizontal dby e.g. \hdby{u}{x} => d/dx (u)
\newcommand{\hdtwoby}[3]{ %
  \dtwoby{}{#2}{#3}\pbrac{#1} %
  } % horizontal dtwoby e.g. \hdtwoby{u}{x}{y} => d/dxdy (u)
\newcommand{\hdtwosqby}[2]{ %
  \dtwosqby{}{#2}\pbrac{#1} %
  } % horizontal dtwosqby e.g. \hdtwosqby{u}{x} => d^2/dx^2 (u)
\newcommand{\hdthreesqby}[4]{ %
  \dthreeby{}{#2}{#3}{#4}\pbrac{#1} %
  } % horizontal dthreeby e.g. \hdthreeby{u}{x}{y}{z} => d^3/dxdydz (u)
\newcommand{\hdnby}[3]{ %
  \dnby{#1}{}{#3}\pbrac{#2} %
  } % horizontal dnby e.g. \hdnby{3}{u}{x} => d^3/dx^3 (u)
\newcommand{\hdntwoby}[6]{ %
  \dntwoby{#1}{}{#3}{#4}{#5}{#6}\pbrac{#2} %
  } % horizontal dntwoby e.g. \hdntwoby{3}{u}{x}{1}{y}{2} => d^3/dx^1dy^2 (u)
\newcommand{\hdelby}[2]{ %
  \delby{}{#2}\pbrac{#1} %
  } % horizontal delby e.g. \hdelby{u}{x} => del/del x (u)
\newcommand{\hdeltwoby}[3]{ %
  \deltwoby{}{#2}{#3}\pbrac{#1} %
  } % horizontal deltwoby e.g. \hdeltwoby{u}{x}{y} => del/del x del y (u)
\newcommand{\hdeltwosqby}[2]{ %
  \deltwosqby{}{#2}\pbrac{#1} %
  } % horizontal deltwosqby e.g. \hdeltwosqby{u}{x} => del^2/del x^2 (u)
\newcommand{\hdelthreesqby}[4]{ %
  \delthreeby{}{#2}{#3}{#4}\pbrac{#1} %
  } % horizontal delthreeby e.g. \hdelthreeby{u}{x}{y}{z} => 
    % del^3/del x del y del z (u)
\newcommand{\hdelnby}[3]{ %
  \delnby{#1}{}{#3}\pbrac{#2} %
  } % horizontal delnby e.g. \hdelnby{3}{u}{x} => del^3/del x^3 (u)
\newcommand{\hdelntwoby}[6]{ %
  \delntwoby{#1}{}{#3}{#4}{#5}{#6}\pbrac{#2} %
  } % horizontal delntwoby e.g. \hdelntwoby{3}{u}{x}{1}{y}{2} => 
    % del^3/del x^1 del y^2 (u)

%
% Dynamics
%
\newcommand{\hamiltoniandensitysym}{\ensuremath{ %
    \mathcal{H} %
}} % Hamiltonian density symbol
\newcommand{\hamiltoniandensity}[1]{\ensuremath{ %
    \fnof{\hamiltoniandensitysym}{#1} %
}} % Hamiltonian density e.g., \hamiltoniandensity{u,v} => H(u,v)
\newcommand{\hamiltoniansym}{\ensuremath{ %
    H %
}} % Hamiltonian symbol
\newcommand{\hamiltonian}[1]{\ensuremath{ %
    \fnof{\hamiltoniansym}{#1} %
}} % Hamiltonian e.g., \hamiltonian{u,v} => H(u,v)
\newcommand{\dothamiltonian}[1]{\ensuremath{ %
    \fnof{\dotover{\hamiltoniansym}}{#1} %
}} % dot Hamiltonian e.g., time derivative of the Hamiltonian
\newcommand{\lagrangiansym}{\ensuremath{ %
    L %
}} % Lagrangian symbol
\newcommand{\lagrangian}[1]{\ensuremath{ %
    \fnof{\lagrangiansym}{#1} %
}} % Lagrangian e.g., \lagrangian{u,v} => L(u,v)

%
% Spaces
%
\newcommand{\vectorspace}[1]{\ensuremath{ %
    \mathcal{#1} %
}} % vetor space e.g., \vectirspace{V} => V
\newcommand{\dualspace}[1]{\ensuremath{ %
    \vectorspace{#1}^{*} %
}} % dual space e.g., \dualspace{V} => V^*
\newcommand{\lebesguespacesym}{\ensuremath{ %
    L %
}} % Lebesque space symbol
\newcommand{\lebesguepspace}[2]{%
  \ifthenelse{\equal{#2}{}}{ %
    \ensuremath{\lebesguespacesym^{#1}}
  }{
    \ensuremath{\lebesguespacesym^{#1}\pbrac{#2}} %  
}} % Lebesgue p space e.g., \lebesguepspace{2}{M} =>L^2(M)
\newcommand{\lebesguetwospace}[1]{\ensuremath{ %
    \lebesquepspace{2}{#1} %  
}} % Lebesgue 2 space e.g., \lebesgue2space{M} =>L^2(M)
\newcommand{\sobolevspacesym}{\ensuremath{ %
    W
}} % Sobolev space symbol
\newcommand{\sobolevkpspace}[3]{%
  \ifthenelse{\equal{#3}{}}{ %
    \ensuremath{\sobolevspacesym^{#1,#2}}
  }{
    \ensuremath{\sobolevspacesym^{#1,#2}\pbrac{#3}} %  
}} % Sobolev k,p space e.g., \sobolevkpspace{k,p}{M} =>W^k,p(M)
\newcommand{\hilbertspacesym}{\ensuremath{ %
    H
}} % Hilbert space symbol
\newcommand{\hilbertpspace}[2]{%
  \ifthenelse{\equal{#2}{}}{ %
    \ensuremath{\hilbertspacesym^{#1}}
  }{
    \ensuremath{\hilbertspacesym^{#1}\pbrac{#2}} %  
}} % Hilbert p space e.g., \hilbertpspace{1}{M} =>H^1(M)
\newcommand{\hilbertonespace}[1]{\ensuremath{ %
    \hilbertpspace{1}{#1} %  
}} % Hilbert 1 space e.g., \hilbert1space{M} =>H^1(M)
\newcommand{\hilberttwospace}[1]{\ensuremath{ %
    \hilbertpspace{2}{#1} %  
}} % Hilbert 2 space e.g., \hilbert2space{M} =>H^2(M)
\newcommand{\hilbertthreespace}[1]{\ensuremath{ %
    \hilbertpspace{3}{#1} %  
}} % Hilbert 3 space e.g., \hilbert3space{M} =>H^3(M)
\newcommand{\diffformspacesym}{\ensuremath{ %
    \bigwedge
}} % space of differential forms symbol
\newcommand{\diffformspace}[2]{%
  \ifthenelse{\equal{#2}{}}{ %
    \ensuremath{{\diffformspacesym}^{#1}}
  }{
    \ensuremath{{\diffformspacesym}^{#1}\pbrac{#2}} %  
}} % differential form space e.g., \diffformspace{2}{M} =>^2(M)
\newcommand{\ltwodiffformspace}[2]{%
  \ifthenelse{\equal{#2}{}}{ %
    \ensuremath{\lebesguespacesym^{2}{\diffformspacesym}^{#1}}
  }{
    \ensuremath{\lebesguespacesym^{2}{\diffformspacesym}^{#1}\pbrac{#2}} %  
}} % L^2 differential form space e.g., \ltwodiffformspace{2}{M} =>L^2 ^2(M)
\newcommand{\honediffformspace}[2]{%
  \ifthenelse{\equal{#2}{}}{ %
    \ensuremath{\hilbertspacesym^{1}{\diffformspacesym}^{#1}}
  }{
    \ensuremath{\hilbertspacesym^{1}{\diffformspacesym}^{#1}\pbrac{#2}} %  
}} % H^1 differential form space e.g., \honediffformspace{2}{M} =>H^1 ^2(M)
\newcommand{\innerform}[3]{ %
  \ifthenelse{\equal{#3}{}}{ %
    \ensuremath{\pbrac{#1,#2}}
  }{
    \ensuremath{\pbrac{#1,#2}_{#3}} %  
}} % inner form e.g., \innerform{a}{b} => (a,b)
\newcommand{\bilinearform}[3]{ %
  \ifthenelse{\equal{#3}{}}{ %
    \ensuremath{\abrac{#1\mid#2}}
  }{
    \ensuremath{\abrac{#1\mid#2}_{#3}} %  
}} % bilinear form e.g., \bilinearform{a}{b} => <a,b>
\newcommand{\symbilinearform}[3]{ %
  \ifthenelse{\equal{#3}{}}{ %
    \ensuremath{\dabrac{#1\mid#2}}
  }{
    \ensuremath{\dabrac{#1\mid#2}_{#3}} %  
}} % symbilinear form e.g., \symbilinearform{a}{b} => <<a,b>>
\newcommand{\dualityform}[3]{ %
  \ifthenelse{\equal{#3}{}}{ %
    \ensuremath{\abrac{#1\mid#2}}
  }{
    \ensuremath{\abrac{#1\mid#2}_{#3}} %  
}} % duality product form e.g., \exteriorform{a}{b} => <a|b>
\newcommand{\spaceprodop}{\ensuremath{ %
    \times %
}} % space product operator symbol
\newcommand{\spaceprod}[2]{ %7
  \spaceprodtwo{#1}{#2} %
} % space product e.g., \crossprod{A}{B} => A x B
\newcommand{\spaceprodtwo}[2]{\ensuremath{ %
    #1\spaceprodop#2 %
}} % two times space product e.g., \spaceprodtwo{A}{B} => A x B
\newcommand{\spaceprodthree}[3]{\ensuremath{ %
    #1\spaceprodop#2\spaceprodop#3 %
}} % three times space product e.g., \spaceprodthree{A}{B}{C} => A x B x C
\newcommand{\spaceprodfour}[4]{\ensuremath{ %
    #1\spaceprodop#2\spaceprodop#3\spaceprodop#4 %
}} % four times space product e.g., \spaceprodfour{A}{B}{C}{D} => A x B x C x D

%
% Differential Geometry
%
\newcommand{\manifold}[1]{\ensuremath{ %
    \mathfrak{#1} %
}} % manifold symbol
\newcommand{\boundary}[1]{\ensuremath{ %
    \del{#1} %
}} % boundary symbol
\newcommand{\embedmanifold}[1]{\ensuremath{ %
  \mathcal{#1} %
}} % embedded manifold symbol
\newcommand{\connection}[2]{\ensuremath{ %
    \grad_{#1}{#2} %
}} % connection e.g., \connection{X}{Y} => \grad_{X} Y
\newcommand{\coordspacesymbol}{\ensuremath{ %
    \mathcal{C} %
}} % Coordinate space symbol => C
\newcommand{\tangentspacesymbol}{\ensuremath{ %
    \mathcal{T} %
}} % Tangent space symbol => T
\newcommand{\cotangentspacesymbol}{\ensuremath{ %
    \tangentspacesymbol^{*} %
}} % Cotangent space symbol => T^*
\newcommand{\coordspace}[2]{\ensuremath{ %
    \coordspacesymbol_{#2} \manifold{#1} %
}} % Coordinate space e.g., \coordspace{M}{p} => C_p M
\newcommand{\tangentspace}[2]{\ensuremath{ %
    \tangentspacesymbol_{#2} \manifold{#1} %
}} % Tangent space e.g., \tangentspace{M}{p} => T_p M
\newcommand{\cotangentspace}[2]{\ensuremath{ %
    \cotangentspacesymbol_{#2} \manifold{#1} %
}} % Cotangent space e.g., \cotangentspace{M}{p} => T_p^* M
\newcommand{\coordbundle}[1]{\ensuremath{ %
    \coordspacesymbol \manifold{#1} %
}} % Coordinate bundle e.g., \coordbundle{M} => CM
\newcommand{\tangentbundle}[1]{\ensuremath{ %
    \tangentspacesymbol \manifold{#1} %
}} % Tangent bundle e.g., \tangentbundle{M} => TM
\newcommand{\cotangentbundle}[1]{\ensuremath{ %
    \cotangentspacesymbol \manifold{#1} %
}} % Cotangent bundle e.g., \cotangentbundle{M} => T^*M
\newcommand{\pushforward}[2]{\ensuremath{ %
    #1_{\triangleright}#2 %
}} % push forward e.g. \pushforward{M}{v} => M_* v
\newcommand{\pullback}[2]{\ensuremath{ %
    #1^{\triangleleft}#2
}} % pull back e.g., \pullback{M}{v} => M^* v
\newcommand{\christoffel}[3]{ %
  \christoffelsecond{#1}{#2}{#3}
} % Christoffel symbol (defaults to Christoffel symbol of the second kind)
\newcommand{\christoffelfirst}[3]{\ensuremath{ %
    \Gamma_{#1#2#3}
}} % Christoffel symbol of the first kind e.g. \christoffelfirst{i}{j}{k} => Gamma_{ijk}
\newcommand{\christoffelsecond}[3]{\ensuremath{ %
    \Gamma^{#1}_{#2#3}
}} % Christoffel symbol of the second kind e.g. \christoffelsecond{i}{j}{k} => Gamma^{i}_{jk}
\newcommand{\partialderiv}[2]{\ensuremath{
    {#1}_{,#2}
}} % partial derivative. e.g., \partialderiv{i}{j} => i_{,j}
\newcommand{\covarpartialderiv}[2]{\ensuremath{ %
    {#1}_{,#2}
}} % covariant partial derivative e.g. \convarpartialderiv{i}{j} => i_{,j}
\newcommand{\contrapartialderiv}[2]{\ensuremath{ %
    {#1}^{,#2} %
}} % contravariant partial derivative e.g. \contrapartialderiv{i}{j} => i^{,j}
\newcommand{\covarderiv}[2]{\ensuremath{ %
    {#1}_{;#2}
}} % covariant derivative e.g. \covarderiv{i}{j} => i_{;j}
\newcommand{\covarderivop}[2]{%
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\nabla{#2}}
  }{
    \ensuremath{\nabla_{#1}{#2}} % 
  }} % covariant derivative operator e.g. \covarderivop{x}{y} => \nabla_{x}y
\newcommand{\doublecovarderivop}[2]{%
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\nabla^{2}{#2}}
  }{
    \ensuremath{\nabla^{2}_{#1}{#2}} % 
}} % double covariant derivative operator e.g. \doublecovarderivop{x}{y} => \nabla^{2}_{x}y
\newcommand{\mixedderiv}[3]{\ensuremath{ %
    \brac{.}{#1}{|}^{#2}_{#3}
}} % mixed derivative e.g. \mixedderiv{i}{j}{k} => i | ^{j}_{k}
\newcommand{\exteriorscalarderivop}{\ensuremath{ %
    \mathrm{d} %
}} % Exterior scalar derivative operator e.g., \exteriorscalarderivop => d
\newcommand{\exteriorcovectorderivop}{\ensuremath{ %
    \boldsymbol{\exteriorscalarderivop} %
}} % Exterior covector derivative operator e.g., \exteriorcovectorderivop => d
\newcommand{\exteriorderivop}{\ensuremath{ %
    \exteriorscalarderivop %
}} % Exterior derivative operator e.g., \exteriorderivop => d
\newcommand{\exteriorscalarderiv}[1]{\ensuremath{ %
    {\exteriorscalarderivop}#1
  }} % Exterior scalar derivative e.g., \exteriorscalarderiv{a} => da
\newcommand{\exteriorcovectorderiv}[1]{\ensuremath{ %
    {\exteriorcovectorderivop}#1
  }} % Exterior covector derivative e.g., \exteriorcovectorderiv{a} => da
\newcommand{\exteriorderiv}[1]{\ensuremath{ %
    \exteriorscalarderiv{#1} %
}} % Exterior derivative e.g., \exteriorderiv{a} => da
\newcommand{\exteriorcoderivop}{\ensuremath{ %
    \mathrm{\delta} %
}} % Exterior co-derivative operator e.g., \exteriorcoderivop => \delta
\newcommand{\exteriorscalarcoderiv}[1]{\ensuremath{ %
    \exteriorcoderivop#1 %
}} % Scalar exterior co-derivative e.g., \exteriorscalarcoderiv{a} => \delta.a
\newcommand{\exteriorvectorcoderiv}[1]{\ensuremath{ %
    \boldsymbol{\exteriorcoderivop}#1 %
}} % Vector exterior co-derivative e.g., \exteriorvectorcoderiv{a} => \delta.a
\newcommand{\exteriorcoderiv}[1]{\ensuremath{ %
    \exteriorscalarcoderiv{#1} %
}} % Exterior co-derivative e.g., \exteriorcoderiv{a} => \delta.a
\newcommand{\hodgestarop}{\ensuremath{ %
    \star %
}} % Hodge star operator e.g., \hodgestarop => *
\newcommand{\hodgestar}[1]{\ensuremath{ %
    \hodgestarop#1 %
}} % Hodge star e.g., \hodgestar{a} => *a
\newcommand{\hodgelaplacianop}{\ensuremath{ %
    \Delta %
}} % Hodge Laplacian operator
\newcommand{\hodgelaplacian}[2]{
    \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\hodgelaplacianop #2} %
  }{ %
    \ensuremath{\hodgelaplacianop_{#1} #2} % 
}} % Hodge-Laplacian e.g. \hodgelaplacian{x}{a} => \Delta_{x} a
\newcommand{\oneform}[2]{\ensuremath{ %
    #1\,\exteriorderiv{#2}
}} % one form e.g., \oneform{a}{x} => a.dx
\newcommand{\twoform}[3]{\ensuremath{ %
    #1\,\wedgeprod{\exteriorderiv{#2}}{\exteriorderiv{#3}}
}} % two form e.g., \twoform{a}{x}{y} => a.dx^dy
\newcommand{\threeform}[4]{\ensuremath{ %
    #1\,\wedgeprodthree{\exteriorscalarderiv{#2}}{\exteriorscalarderiv{#3}}{\exteriorscalarderiv{#4}}
}} % three form e.g., \threeform{a}{x}{y}{z} => a.dx^dy^dz
\newcommand{\volumeform}[1]{%
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\vol}
  }{
    \ensuremath{\vol_{#1}} % 
}} % volume form with optional metric e.g. \volumeform{g} => vol_g
\newcommand{\sharptensor}[1]{\ensuremath{ %
    #1^{\sharp}
}} % sharp tensor e.g.,\sharptensor{A} => A^#
\newcommand{\flattensor}[1]{\ensuremath{#1^{\flat}}} % flat tensor e.g.,
% \flattensor{A} => A^b
% cpb 19/9/96 Changing from \mathbf to \boldsymbol to allow bold greek tensors
%\newcommand{\tensor}[1]{\ensuremath{\mathbf{#1}}} % tensor
\newcommand{\vectr}[1]{\ensuremath{ %
    \boldsymbol{#1} %
}} % vector e.g., \vectr{a} => a
\newcommand{\dvectr}[1]{\ensuremath{ %
    \boldsymbol{\mathrm{#1}} %
}} % vector e.g., \vectr{a} => a
\newcommand{\covectr}[1]{\ensuremath{ %
    \boldsymbol{#1} %
}} % covector e.g., \covectr{a} => a
\newcommand{\dcovectr}[1]{\ensuremath{ %
    \boldsymbol{\mathrm{#1}}
}} % discrete covector e.g. \dcovectr{a} => a
\newcommand{\tensor}[1]{\tensortwo{#1}} % tensor
\newcommand{\tensortwo}[1]{\ensuremath{\boldsymbol{\mathit{#1}}}} % 2nd order tensor
\newcommand{\tensorthree}[1]{\ensuremath{\boldsymbol{\mathrm{#1}}}} % 3rd order tensor
\newcommand{\tensorfour}[1]{\ensuremath{\boldsymbol{\mathsf{#1}}}} % 4th order tensor
\newcommand{\covartensor}[3]{\ensuremath{{#1}_{#2#3}}} % covariant tensor
\newcommand{\contratensor}[3]{\ensuremath{{#1}^{#2#3}}} % contravariant tensor
\newcommand{\mixedtensor}[3]{\ensuremath{{#1}_{#2}^{#3}}} % mixed tensor

%
% Transposes
%
\newcommand{\transpose}[1]{
  \fulltranspose{#1}
} % transpose e.g., \transpose{A} => A^T
\newcommand{\invtranspose}[1]{ %
  \invfulltranspose{#1}
} % inverse transpose e.g. \invtranspose{A} => A^-T
\newcommand{\fulltransposeop}{\ensuremath{ %
    \top %
}} % full transpose op
\newcommand{\fulltranspose}[1]{\ensuremath{ %
    {#1}^{\fulltransposeop} %
}} % full transpose e.g., \fulltranspose{A} => A^H
\newcommand{\invfulltranspose}[1]{\ensuremath{ %
    {#1}^{-\fulltransposeop} %
}} % inverse full transpose e.g., \invfulltranspose{A} => A^-T
\newcommand{\swaptransposeop}{\ensuremath{ %
%    \sim %
    \setminus %
}} % swap transpose op
\newcommand{\swaptranspose}[1]{\ensuremath{ %
    {#1}^{\swaptransposeop} %
}} % swap transpose e.g., \righttranspose{A} => A^~
\newcommand{\lefttransposeop}{\ensuremath{ %
    \vdash %
}} % left transpose op
\newcommand{\lefttranspose}[1]{\ensuremath{ %
    {#1}^{\lefttransposeop} %
}} % left transpose e.g., \lefttranspose{A} => A^T
\newcommand{\leftrighttransposeop}{\ensuremath{ %
    \bot %
}} % left right transpose op
\newcommand{\leftrighttranspose}[1]{\ensuremath{ %
    {#1}^{\leftrighttransposeop} %
}} % left right transpose e.g., \righttranspose{A} => A^(inv T)
\newcommand{\righttransposeop}{\ensuremath{ %
    \dashv %
}} % right transpose op
\newcommand{\righttranspose}[1]{\ensuremath{ %
    {#1}^{\righttransposeop} %
}} % right transpose e.g., \righttranspose{A} => A^(inv T)
\newcommand{\innertransposeop}{\ensuremath{ %
    \rightthreetimes %
}} % inner transpose op
\newcommand{\innertranspose}[1]{\ensuremath{ %
    {#1}^{\innertransposeop} %
}} % inner transpose e.g., \innertranspose{A} => A^|-
\newcommand{\outertransposeop}{\ensuremath{ %
    \leftthreetimes %
}} % outer transpose op
\newcommand{\outertranspose}[1]{\ensuremath{ %
    {#1}^{\outertransposeop} %
}} % outer transpose e.g., \outertranspose{A} => A^-|
\newcommand{\xtransposeop}{\ensuremath{ %
    \times %
}} % outer transpose op
\newcommand{\xtranspose}[1]{\ensuremath{ %
    {#1}^{\xtransposeop} %
}} % x transpose e.g., \xtranspose{A} => A^X
\newcommand{\algebraictransposeop}{\ensuremath{ %
    \top %
}} % algebraic transpose op
\newcommand{\algebraictranspose}[1]{\ensuremath{ %
    {#1}^{\algebraictransposeop} %
}} % algebraic transpose e.g., \algebraictranspose{A} => A^T
\newcommand{\metrictransposeop}{\ensuremath{ %
    t %
}} % transpose op
\newcommand{\metrictranspose}[1]{\ensuremath{ %
    {#1}^{\metrictransposeop} %
}} % metric transpose


%
% Products
%
\newcommand{\directsumop}{\ensuremath{ %
    \oplus %
}} % direct sum operator symbol
\newcommand{\directsum}[2]{ %
  \directsumtwo{#1}{#2} %
} % direct sum e.g., \directsum{a}{b} => a 0+ b
\newcommand{\directsumtwo}[2]{\ensuremath{ %
    #1 \directsumop #2 %
}} % two times direct sum e.g., \directsumtwo{a}{b} => a 0+ b
\newcommand{\directsumthree}[3]{\ensuremath{ %
    #1 \directsumop #2 \directsumop #3 %
}} % three times direct sum e.g., \directsumthree{a}{b}{c} => a 0+ b 0+ c
\newcommand{\directsumfour}[4]{\ensuremath{ %
    #1 \directsumop #2 \directsumop #3 \directsumop #4 %
}} % four times direct sum e.g., \directsumfour{a}{b}{c}{d} => a 0+ b 0+ c 0+
% d
\newcommand{\dotprodop}{\ensuremath{ %
    \cdot %
}} % dot product operator symbol
\newcommand{\dotprod}[2]{ %
  \dotprodtwo{#1}{#2} %
} % dot product e.g., \dotprod{a}{b} => a . b
\newcommand{\dotprodtwo}[2]{\ensuremath{ %
    #1 \dotprodop #2 %
}} % two times dot product e.g., \dotprodtwo{a}{b} => a . b
\newcommand{\dotprodthree}[3]{\ensuremath{ %
    #1 \dotprodop #2 \dotprodop #3 %
}} % three times dot product e.g., \dotprodthree{a}{b}{c} => a . b . c
\newcommand{\dotprodfour}[4]{\ensuremath{ %
    #1 \dotprodop #2 \dotprodop #3 \dotprodop #4 %
}} % four times dot product e.g., \dotprodfour{a}{b}{c}{d} => a . b . c . d
\newcommand{\doubledotprodop}{\ensuremath{ %
    : %
}} % double dot product operator symbol
\newcommand{\doubledotprod}[2]{ %
  \doubledotprodtwo{#1}{#2} %
} % double dot product e.g., \doubledotprod{A}{B} => A : B
\newcommand{\doubledotprodtwo}[2]{\ensuremath{ %
    #1\doubledotprodop#2 %
}} % two times double dot product e.g., \doubledotprodtwo{A}{B} => A : B
\newcommand{\doubledotprodthree}[3]{\ensuremath{ %
    #1\doubledotprodop#2\doubledotprodop#3 %
}} % three times double dot product e.g., \doubledotprodthree{A}{B}{C} => A : B : C
\newcommand{\doubledotprodfour}[4]{\ensuremath{ %
    #1\doubledotprodop#2\doubledotprodop#3\doubledotprodop#4 %
}} % four times double dot product e.g., \doubledotprodfour{A}{B}{C}{D} => A : B : C : D
\newcommand{\upperdoubledotprodop}{\ensuremath{ %
    \, \overline{\cdot\cdot} \, %
}} % upper double dot product operator symbol
\newcommand{\upperdoubledotprod}[2]{\ensuremath{ %
    #1\upperdoubledotprodop#2 %
}} % upper double dot product e.g., \upperdoubledotprod{A}{B} => A ..- B
\newcommand{\lowerdoubledotprodop}{\ensuremath{ %
    \, \underline{\cdot\cdot} \, %
}} % lower double dot product operator symbol
\newcommand{\lowerdoubledotprod}[2]{\ensuremath{ %
    #1\lowerdoubledotprodop#2 %
}} % lower double dot product e.g., \lowerdoubledotprod{A}{B} => A .._ B
\newcommand{\quaddotprodop}{\ensuremath{ %
    :: %
}} % quadruple dot product operator symbol
\newcommand{\quaddotprod}[2]{ %
  \quaddotprodtwo{#1}{#2} %
} % quadruple dot product e.g., \quaddotprod{A}{B} => A :: B
\newcommand{\quaddotprodtwo}[2]{\ensuremath{ %
    #1\quaddotprodop#2 %
}} % two times quadruple dot product e.g., \quaddotprodtwo{A}{B} => A :: B
\newcommand{\crossprodop}{\ensuremath{ %
    \times %
}} % cross product operator symbol
\newcommand{\crossprod}[2]{ %
  \crossprodtwo{#1}{#2} %
} % cross product e.g., \crossprod{a}{b} => a x b
\newcommand{\crossprodtwo}[2]{\ensuremath{ %
    #1\crossprodop#2 %
}} % two times cross product e.g., \crossprodtwo{a}{b} => a x b
\newcommand{\crossprodthree}[3]{\ensuremath{ %
    #1\crossprodop#2\crossprodop#3 %
}} % three times cross product e.g., \crossprodthree{a}{b}{c} => a x b x c
\newcommand{\crossprodfour}[4]{\ensuremath{ %
    #1\crossprodop#2\crossprodop#3\crossprodop#4 %
}} % four times cross product e.g., \crossprodfour{a}{b}{c}{d} => a x b x c x d
\newcommand{\innerprod}[2]{\ensuremath{ %
    \abrac{#1,#2} %
}} % inner product e.g. \innerprod{a,b} => <a,b>
\newcommand{\tripleprod}[3]{ %
  \dotprodtwo{#1}{\pbrac{\crossprodtwo{#2}{#3}}} %
} % triple product e.g., \tripleprod{a}{b}{c} => a . (b x c)
\newcommand{\tensorprodop}{\ensuremath{ %
    \otimes %
}} % tensor product operator symbol
\newcommand{\tensorprod}[2]{ %
  \tensorprodtwo{#1}{#2} %
} % tensor product e.g., \tensorprod{a}{b} => a Ox b
\newcommand{\tensorprodtwo}[2]{\ensuremath{ %
    #1\tensorprodop#2 %
}} % tensor product two e.g., \tensorprodtwo{a}{b} => a Ox b
\newcommand{\tensorprodthree}[3]{\ensuremath{ %
    #1\tensorprodop#2\tensorprodop#3 %
}} % tensor product three e.g., \tensorprodthree{a}{b}{c} => a Ox b 0x c
\newcommand{\tensorprodfour}[4]{\ensuremath{ %
    #1\tensorprodop#2\tensorprodop#3\tensorprodop#4 %
}} % tensor product four e.g., \tensorprodfour{a}{b}{c}{d} => a Ox b Ox c Ox d
\newcommand{\uppertensorprodop}{\ensuremath{ %
   \, \overline{\otimes} \, %
}} % upper tensor product operator symbol
\newcommand{\uppertensorprod}[2]{ %
  \uppertensorprodtwo{#1}{#2} %
} % "upper" tensor product e.g., \uppertensorprod{a}{b} => a Ox b
\newcommand{\uppertensorprodtwo}[2]{\ensuremath{ %
    #1\uppertensorprodop#2 %
}} % "upper" tensor product two e.g., \uppertensorprodtwo{a}{b} => a Ox b
\newcommand{\uppertensorprodthree}[3]{\ensuremath{ %
    #1\uppertensorprodop#2\uppertensorprodop#3 %
}} % "upper" tensor product three e.g., \uppertensorprodthree{a}{b}{c} => a Ox b 0x c
\newcommand{\uppertensorprodfour}[4]{\ensuremath{ %
    #1\uppertensorprodop#2\uppertensorprodop#3\uppertensorprodop#4 %
}} % "upper" tensor product four e.g., \tensorprodfour{a}{b}{c}{d} => a Ox b Ox c Ox d
\newcommand{\lowertensorprodop}{\ensuremath{ %
    \, \underline{\otimes} \, %
}} % upper tensor product operator symbol
\newcommand{\lowertensorprod}[2]{ %
  \lowertensorprodtwo{#1}{#2} %
} % "lower" tensor product e.g., \lowertensorprod{a}{b} => a Ox b
\newcommand{\lowertensorprodtwo}[2]{\ensuremath{ %
    #1\lowertensorprodop#2 %
}} % "lower" tensor product two e.g., \lowertensorprodtwo{a}{b} => a Ox b
\newcommand{\lowertensorprodthree}[3]{\ensuremath{ %
    #1\lowertensorprodop#2\lowertensorprodop#3 %
}} % "lower" tensor product three e.g., \lowertensorprodthree{a}{b}{c} => a Ox b 0x c
\newcommand{\lowertensorprodfour}[4]{\ensuremath{ %
    #1\lowertensorprodop#2\lowertensorprodop#3\lowertensorprodop#4 %
}} % "lower" tensor product four e.g., \lowerprodfour{a}{b}{c}{d} => a Ox b Ox c Ox d
\newcommand{\symtensorprodop}{\ensuremath{ %
    \odot %
}} % symmetric tensor product operator symbol
\newcommand{\symtensorprod}[2]{ %
  \symtensorprodtwo{#1}{#2} %
} % symmetric tensor product e.g., \symtensorprod{a}{b} => a O. b
\newcommand{\symtensorprodtwo}[2]{\ensuremath{ %
    #1\symtensorprodop#2 %
}} % symmetric tensor product two e.g., \symtensorprodtwo{a}{b} => a O. b
\newcommand{\symtensorprodthree}[3]{\ensuremath{ %
    #1\symtensorprodop#2\symtensorprodop#3 %
}} % symmetric tensor product three e.g., \symtensorprodthree{a}{b}{c} => a O. b 0. c
\newcommand{\symtensorprodfour}[4]{\ensuremath{ %
    #1\symtensorprodop#2\symtensorprodop#3\symtensorprodop#4 %
}} % symmetric tensor product four e.g., \symtensorprodfour{a}{b}{c}{d} => a O. b O. c O. d
\newcommand{\antisymtensorprodop}{\ensuremath{ %
    \circledast %
}} % anti symmetric tensor product operator symbol
\newcommand{\antisymtensorprod}[2]{ %
  \antisymtensorprodtwo{#1}{#2} %
} % anti symmetric tensor product e.g., \antisymtensorprod{a}{b} => a O* b
\newcommand{\antisymtensorprodtwo}[2]{\ensuremath{ %
    #1\antisymtensorprodop#2 %
}} % anti symmetric tensor product two e.g., \antisymtensorprodtwo{a}{b} => a O* b
\newcommand{\antisymtensorprodthree}[3]{\ensuremath{ %
    #1\antisymtensorprodop#2\antisymtensorprodop#3 %
}} % anti symmetric tensor product three e.g., \antisymtensorprodthree{a}{b}{c} => a O* b 0* c
\newcommand{\antisymtensorprodfour}[4]{\ensuremath{ %
    #1\antisymtensorprodop#2\antisymtensorprodop#3\antisymtensorprodop#4 %
}} % anti symmetric tensor product four e.g., \antisymtensorprodfour{a}{b}{c}{d} => a O* b O* c O* d
\newcommand{\exteriorprodop}{\ensuremath{ %
    \wedge %
}} % exterior product operator symbol e.g., \exteriorprodop => ^
\newcommand{\exteriorprodtwo}[2]{\ensuremath{ %
    #1\exteriorprodop#2 %
}} % two times exterior product e.g., \exteriorprodtwo{a}{b} => a ^ b
\newcommand{\exteriorprodthree}[3]{\ensuremath{ %
    #1\exteriorprodop#2\exteriorprodop#3 %
}} % three times exterior product e.g., \exteriorprodthree{a}{b}{c} => a ^ b ^ c
\newcommand{\exteriorprodfour}[4]{\ensuremath{ %
    #1\exteriorprodop#2\exteriorprodop#3\exteriorprodop#4 %
}} % four times exterior product e.g., \exteriorprodfour{a}{b}{c}{d} => a ^ b ^ c ^ d
\newcommand{\exteriorprod}[2]{\ensuremath{ %
    \exteriorprodtwo{#1}{#2} %
}} % exterior product e.g., \exteriorprod{a}{b} => a ^ b
\newcommand{\interiorprodop}{\ensuremath{ %
    \vee %
}} % interior product operator symbol e.g., \exteriorprodop => v
\newcommand{\interiorprodtwo}[2]{\ensuremath{ %
    #1\interiorprodop#2 %
}} % two times interior product e.g., \interiorprodtwo{a}{b} => a v b
\newcommand{\interiorprodthree}[3]{\ensuremath{ %
    #1\interiorprodop#2\interiorprodop#3 %
}} % three times interior product e.g., \prodthree{a}{b}{c} => a v b v c
\newcommand{\interiorprodfour}[4]{\ensuremath{ %
    #1\interiorprodop#2\interiorprodop#3\interiorprodop#4 %
}} % four times interior product e.g., \interiorprodfour{a}{b}{c}{d} => a v b v c v d
\newcommand{\interiorprod}[2]{\ensuremath{ %
    \interiorprodtwo{#1}{#2} %
}} % exterior product e.g., \exteriorprod{a}{b} => a ^ b
\newcommand{\wedgeprodop}{\ensuremath{ %
    \exteriorprodop %
}} % wedge product operator symbol e.g., \wedgeprodop => ^
\newcommand{\wedgeprodtwo}[2]{\ensuremath{ %
    \exteriorprodtwo{#1}{#2} %
}} % two times wedge product e.g., \wedgeprodtwo{a}{b} => a ^ b
\newcommand{\wedgeprodthree}[3]{\ensuremath{ %
    \exteriorprodthree{#1}{#2}{#3} %
}} % three times wedge product e.g., \wedgeprodthree{a}{b}{c} => a ^ b ^ c
\newcommand{\wedgeprodfour}[4]{\ensuremath{ %
    \exteriorprodfour{#1}{#2}{#3}{#4} %
}} % four times wedge product e.g., \wedgeprodfour{a}{b}{c}{d} => a ^ b ^ c ^ d
\newcommand{\wedgeprod}[2]{ %
  \wedgeprodtwo{#1}{#2} %
} % wedge product e.g., \wedgeprod{a}{b} => a ^ b

%
% Special tensors
%

% Null tensor

\newcommand{\nulltensorsymbol}{\ensuremath{ %
    0 %
}} % null tensor symbol

\newcommand{\nulltensor}{\ensuremath{ %
    \nulltensortwo %
}} % null tensor e.g., \nulltensor => 0
\newcommand{\nulltensorone}{\ensuremath{ %
    \vectr{\nulltensorsymbol} %
}} % first order null tensor e.g., \nulltensorone => 0
\newcommand{\nulltensortwo}{\ensuremath{ %
    \tensortwo{\nulltensorsymbol} %
}} % second order null tensor e.g., \nulltensortwo => 0
\newcommand{\nulltensorthree}{\ensuremath{ %
    \tensorthree{\nulltensorsymbol} %
}} % third order null tensor e.g., \nulltensorthree => 0
\newcommand{\nulltensorfour}{\ensuremath{ %
    \tensorfour{\nulltensorsymbol} %
}} % fourth order null tensor e.g., \nulltensorfour => 0

% Identity tensor

\newcommand{\materialidentitytensorsymbol}{\ensuremath{ %
    I %
}} % material identity operator symbol
\newcommand{\spatialidentitytensorsymbol}{\ensuremath{ %
    i %
}} % spatial identity operator symbol
\newcommand{\standardidentitytensorsymbol}{\ensuremath{ %
    I %
}} % standard identity operator symbol

\newcommand{\identitytensor}{\ensuremath{ %
    \genericidentitytensortwo{\standardidentitytensorsymbol} %
}} % identity tensor e.g., \identitytensor => I
\newcommand{\identitytensorone}{\ensuremath{ %
    \vectr{1} %
}} % first order identity tensor e.g., \identitytensorone => I
\newcommand{\materialidentitytensortwo}{\ensuremath{ %
    \generictensortwo{\materialidentitytensorsymbol} %
}} % material second order identity tensor e.g., \materialidentitytensortwo => I
\newcommand{\materialidentitytensorfour}{\ensuremath{ %
    \generictensorfour{\materialidentitytensorsymbol} %
}} % material fourth order identity tensor e.g., \materialidentitytensorfour => I
\newcommand{\materialupperidentitytensorfour}{\ensuremath{ %
    \genericuppertensorfour{\materialidentitytensorsymbol} %
}} % material fourth order upper identity tensor e.g., \materialupperidentitytensorfour => I^_
\newcommand{\materialloweridentitytensorfour}{\ensuremath{ %
    \genericlowertensorfour{\materialidentitytensorsymbol} %
}} % material fourth order upperlower identity tensor e.g., \materialloweridentitytensorfour => I_
\newcommand{\materialsymidentitytensorfour}{\ensuremath{ %
    \genericsymtensorfour{\materialidentitytensorsymbol} %
}} % material fourth order symmetric identity tensor e.g., \materialsymidentitytensorfour => I_
\newcommand{\materialantisymidentitytensorfour}{\ensuremath{ %
    \genericantisymtensorfour{\materialidentitytensorsymbol} %
}} % material fourth order antisymmetric identity tensor e.g., \materialantisymidentitytensorfour => I~

\newcommand{\spatialidentitytensortwo}{\ensuremath{ %
    \generictensortwo{\spatialidentitytensorsymbol} %
}} % spatial second order identity tensor e.g., \spatialidentitytensortwo => i
\newcommand{\spatialidentitytensorfour}{\ensuremath{ %
    \generictensorfour{\spatialidentitytensorsymbol} %
}} % spatial fourth order identity tensor e.g., \spatialidentitytensorfour => i
\newcommand{\spatialupperidentitytensorfour}{\ensuremath{ %
    \genericuppertensorfour{\spatialidentitytensorsymbol} %
}} % spatial fourth order upper identity tensor e.g., \spatialupperidentitytensorfour => i^_
\newcommand{\spatialloweridentitytensorfour}{\ensuremath{ %
    \genericlowertensorfour{\spatialidentitytensorsymbol} %
}} % spatial fourth order upperlower identity tensor e.g., \spatialloweridentitytensorfour => i_
\newcommand{\spatialsymidentitytensorfour}{\ensuremath{ %
    \genericsymtensorfour{\spatialidentitytensorsymbol} %
}} % spatial fourth order symmetric identity tensor e.g., \spatialsymidentitytensorfour => i_
\newcommand{\spatialantisymidentitytensorfour}{\ensuremath{ %
    \genericantisymtensorfour{\spatialidentitytensorsymbol} %
}} % spatial fourth order antisymmetric identity tensor e.g., \spatialantisymidentitytensorfour => i^

\newcommand{\identitytensortwo}{\ensuremath{ %
    \generictensortwo{\standardidentitytensorsymbol} %
}} % second order identity tensor e.g., \identitytensortwo => I
\newcommand{\identitytensorfour}{\ensuremath{ %
    \generictensorfour{\standardidentitytensorsymbol} %
}} % fourth order identity tensor e.g., \identitytensorfour => I
\newcommand{\upperidentitytensorfour}{\ensuremath{ %
    \genericuppertensorfour{\standardidentitytensorsymbol} %
}} % fourth order upper identity tensor e.g., \upperidentitytensorfour => I^_
\newcommand{\loweridentitytensorfour}{\ensuremath{ %
    \genericlowertensorfour{\standardidentitytensorsymbol} %
}} % fourth order upperlower identity tensor e.g., \loweridentitytensorfour => I_
\newcommand{\symidentitytensorfour}{\ensuremath{ %
    \genericsymtensorfour{\standardidentitytensorsymbol} %
}} % fourth order symmetric identity tensor e.g., \symidentitytensorfour => I_
\newcommand{\antisymidentitytensorfour}{\ensuremath{ %
    \genericantisymtensorfour{\standardidentitytensorsymbol} %
}} % fourth order antisymmetric identity tensor e.g., \antisymidentitytensorfour => I^

% Levi-Civita/Permutation tensor

\newcommand{\levicivitatensortwo}{\ensuremath{ %
    \tensortwo{\levicivitasymbol} %
}} % second order Levi-Civita tensor e.g., \levicivitatensortwo => \epsilon
\newcommand{\levicivitatensorthree}{\ensuremath{ %
    \tensorthree{\levicivitasymbol} %
}} % third order Levi-Civita tensor e.g., \levicivitatensorthree => \epsilon
\newcommand{\levicivitatensorfour}{\ensuremath{ %
    \tensorfour{\levicivitasymbol} %
}} % fourth order Levi-Civita tensor e.g., \levicivitatensorfour => \epsilon
\newcommand{\levicivitatensor}{\ensuremath{ %
    \levicivitatensorthree%
}} % Levi-Civita tensor (default to third order) e.g., \levicivitatensor => \epsilon
\newcommand{\permutationtensortwo}{\ensuremath{ %
    \tensortwo{\permutationsymbol} %
}} % second order permutation tensor e.g., \permutationtensortwo => \epsilon
\newcommand{\permutationtensorthree}{\ensuremath{ %
    \tensorthree{\permutationsymbol} %
}} % third order permutation tensor e.g., \permutationtensorthree => \epsilon
\newcommand{\permutationtensorfour}{\ensuremath{ %
    \tensorfour{\permutationsymbol} %
}} % fourth order permutation tensor e.g., \permutationtensorfour => \epsilon
\newcommand{\permutationtensor}{\ensuremath{ %
    \permutationtensorthree%
}} % permutation tensor (default to third order) e.g., \permutationtensor => \epsilon

% Deviatoric tensor

\newcommand{\materialdeviatorictensorsymbol}{\ensuremath{ %
    M %
}} % material deviatoric tensor symbol
\newcommand{\spatialdeviatorictensorsymbol}{\ensuremath{ %
    m %
}} % spatial deviatoric tensor symbol

\newcommand{\materialdeviatorictensortwo}{\ensuremath{ %
    \generictensortwo{\materialdeviatorictensorsymbol} %
}} % material second order deviatoric tensor e.g., \materialdeviatorictensortwo => M
\newcommand{\materialdeviatorictensorfour}{\ensuremath{ %
    \generictensorfour{\materialdeviatorictensorsymbol} %
}} % material fourth order deviatoric tensor e.g., \materialdeviatorictensorfour => M
\newcommand{\materialupperdeviatorictensorfour}{\ensuremath{ %
    \genericuppertensorfour{\materialdeviatorictensorsymbol} %
}} % material fourth order upper deviatoric tensor e.g., \materialupperdeviatorictensorfour => M^_
\newcommand{\materiallowerdeviatorictensorfour}{\ensuremath{ %
    \genericlowertensorfour{\materialdeviatorictensorsymbol} %
}} % material fourth order upperlower deviatoric tensor e.g., \materiallowerdeviatorictensorfour => M_
\newcommand{\materialsymdeviatorictensorfour}{\ensuremath{ %
    \genericsymtensorfour{\materialdeviatorictensorsymbol} %
}} % material fourth order symmetric deviatoric tensor e.g., \materialsymdeviatorictensorfour => M_
\newcommand{\materialantisymdeviatorictensorfour}{\ensuremath{ %
    \genericantisymtensorfour{\materialdeviatorictensorsymbol} %
}} % material fourth order antisymmetric deviatoric tensor e.g., \materialantisymdeviatorictensorfour => M~

\newcommand{\spatialdeviatorictensortwo}{\ensuremath{ %
    \generictensortwo{\spatialdeviatorictensorsymbol} %
}} % spatial second order deviatoric tensor e.g., \spatialdeviatorictensortwo => m
\newcommand{\spatialdeviatorictensorfour}{\ensuremath{ %
    \generictensorfour{\spatialdeviatorictensorsymbol} %
}} % spatial fourth order deviatoric tensor e.g., \spatialdeviatorictensorfour => m
\newcommand{\spatialupperdeviatorictensorfour}{\ensuremath{ %
    \genericuppertensorfour{\spatialdeviatorictensorsymbol} %
}} % spatial fourth order upper deviatoric tensor e.g., \spatialupperdeviatorictensorfour => m^_
\newcommand{\spatiallowerdeviatorictensorfour}{\ensuremath{ %
    \genericlowertensorfour{\spatialdeviatorictensorsymbol} %
}} % spatial fourth order upperlower deviatoric tensor e.g., \spatiallowerdeviatorictensorfour => m_
\newcommand{\spatialsymdeviatorictensorfour}{\ensuremath{ %
    \genericsymtensorfour{\spatialdeviatorictensorsymbol} %
}} % spatial fourth order symmetric deviatoric tensor e.g., \spatialsymdeviatorictensorfour => m_
\newcommand{\spatialantisymdeviatorictensorfour}{\ensuremath{ %
    \genericantisymtensorfour{\spatialdeviatorictensorsymbol} %
}} % spatial fourth order antisymmetric deviatoric tensor e.g., \spatialantisymdeviatorictensorfour => m^

% Spherical tensor

\newcommand{\materialsphericaltensorsymbol}{\ensuremath{ %
    K %
}} % material spherical tensor symbol
\newcommand{\spatialsphericaltensorsymbol}{\ensuremath{ %
    k %
}} % spatial spherical tensor symbol

\newcommand{\materialsphericaltensortwo}{\ensuremath{ %
    \generictensortwo{\materialsphericaltensorsymbol} %
}} % material second order spherical tensor e.g., \materialsphericaltensortwo => K
\newcommand{\materialsphericaltensorfour}{\ensuremath{ %
    \generictensorfour{\materialsphericaltensorsymbol} %
}} % material fourth order spherical tensor e.g., \materialsphericaltensorfour => K
\newcommand{\materialuppersphericaltensorfour}{\ensuremath{ %
    \genericuppertensorfour{\materialsphericaltensorsymbol} %
}} % material fourth order upper spherical tensor e.g., \materialuppersphericaltensorfour => K^_
\newcommand{\materiallowersphericaltensorfour}{\ensuremath{ %
    \genericlowertensorfour{\materialsphericaltensorsymbol} %
}} % material fourth order upperlower spherical tensor e.g., \materiallowersphericaltensorfour => K_
\newcommand{\materialsymsphericaltensorfour}{\ensuremath{ %
    \genericsymtensorfour{\materialsphericaltensorsymbol} %
}} % material fourth order symmetric spherical tensor e.g., \materialsymsphericaltensorfour => K_
\newcommand{\materialantisymsphericaltensorfour}{\ensuremath{ %
    \genericantisymtensorfour{\materialsphericaltensorsymbol} %
}} % material fourth order antisymmetric spherical tensor e.g., \materialantisymsphericaltensorfour => K~

\newcommand{\spatialsphericaltensortwo}{\ensuremath{ %
    \generictensortwo{\spatialsphericaltensorsymbol} %
}} % spatial second order spherical tensor e.g., \spatialsphericaltensortwo => k
\newcommand{\spatialsphericaltensorfour}{\ensuremath{ %
    \generictensorfour{\spatialsphericaltensorsymbol} %
}} % spatial fourth order spherical tensor e.g., \spatialsphericaltensorfour => k
\newcommand{\spatialuppersphericaltensorfour}{\ensuremath{ %
    \genericuppertensorfour{\spatialsphericaltensorsymbol} %
}} % spatial fourth order upper spherical tensor e.g., \spatialuppersphericaltensorfour => k^_
\newcommand{\spatiallowersphericaltensorfour}{\ensuremath{ %
    \genericlowertensorfour{\spatialsphericaltensorsymbol} %
}} % spatial fourth order upperlower spherical tensor e.g., \spatiallowersphericaltensorfour => k_
\newcommand{\spatialsymsphericaltensorfour}{\ensuremath{ %
    \genericsymtensorfour{\spatialsphericaltensorsymbol} %
}} % spatial fourth order symmetric spherical tensor e.g., \spatialsymsphericaltensorfour => k_
\newcommand{\spatialantisymsphericaltensorfour}{\ensuremath{ %
    \genericantisymtensorfour{\spatialsphericaltensorsymbol} %
}} % spatial fourth order antisymmetric spherical tensor e.g., \spatialantisymsphericaltensorfour => k^

% Generic tensor

\newcommand{\generictensortwo}[1]{\ensuremath{ %
    \tensortwo{#1} %
}} % generic second order tensor e.g., \generictensortwo{I} => I
\newcommand{\generictensorfour}[1]{\ensuremath{ %
    \tensorfour{#1} %
}} % generic fourth order tensor e.g., \generictensorfour{I} => I
\newcommand{\genericuppertensorfour}[1]{\ensuremath{ %
    \overline{\tensorfour{#1}} %
}} % generic fourth order upper tensor e.g., \genericuppertensorfour{I} => I^_
\newcommand{\genericlowertensorfour}[1]{\ensuremath{ %
    \underline{\tensorfour{#1}} %
}} % generic fourth order lower tensor e.g., \genericlowertensorfour{I} => I_
\newcommand{\genericsymtensorfour}[1]{\ensuremath{ %
    \overline{\underline{\tensorfour{#1}}} %
}} % generic fourth order symmetric tensor e.g., \genericsymtensorfour{I} => I_
\newcommand{\genericantisymtensorfour}[1]{\ensuremath{ %
    \tilde{\tensorfour{#1}} %
}} % generic fourth order antisymmetric tensor e.g., \genericantisymtensorfour{I} => I^

%
% Metric tensors/base vectors
%

\newcommand{\worldbasevectorsymbol}{\ensuremath{ %
    i %
}} % World base vector symbol e.g., \worldbasevectorsymbol => i
\newcommand{\worldbasevector}{\ensuremath{ %
    \vectr{\worldbasevectorsymbol} %
}} % World base vector e.g., \worldbasevector => i
\newcommand{\worldmetrictensorsymbol}{\ensuremath{ %
    I %
}} % World metric tensor symbol e.g., \worldmetrictensorsymbol => I
\newcommand{\worldmetrictensor}{\ensuremath{ %
    \tensortwo{\worldmetrictensorsymbol} %
}} % World metric tensor e.g., \worldmetrictensor => I
\newcommand{\euclideanbasevectorsymbol}{\ensuremath{ %
    e %
}} % Euclidean base vector symbol e.g., \euclideanbasevectorsymbol => e
\newcommand{\euclideanbasevector}{\ensuremath{ %
    \vectr{\euclideanbasevectorsymbol} %
}} % Euclidean base vector e.g., \euclideanbasevector => e
\newcommand{\euclideanmetrictensorsymbol}{\ensuremath{ %
    E %
}} % Euclidean metric tensor symbol e.g., \euclideanmetrictensorsymbol => E
\newcommand{\euclideanmetrictensor}{\ensuremath{ %
    \tensortwo{\euclideanmetrictensorsymbol} %
}} % Euclidean metric tensor e.g., \euclideanmetrictensor => E
\newcommand{\generalbasevectorsymbol}{\ensuremath{ %
    g %
}} % general base vector symbol e.g., \generalbasevectorsymbol => g
\newcommand{\generalbasevector}{\ensuremath{ %
    \vectr{\generalbasevectorsymbol} %
}} % general base vector e.g., \generalbasevector => g
\newcommand{\generalmetrictensorsymbol}{\ensuremath{ %
    g %
}} %  general metric tensor symbol e.g., \generalmetrictensorsymbol => g
\newcommand{\generalmetrictensor}{\ensuremath{ %
    \tensortwo{\generalmetrictensorsymbol} %
}} % general metric tensor e.g., \generalmetrictensor => g
\newcommand{\generalmetrictensorscalesymbol}{\ensuremath{ %
    \generalmetrictensorsymbol %
}} % general metric tensor scale symbol e.g., \generalmetrictensorscalesymbol => g=\sqrt{det g}
\newcommand{\generalmetrictensorscale}{\ensuremath{ %
    \sqrt{\determinant{\generalmetrictensor}} %
}} % general metric tensor scale e.g., \generalmetrictensorscale => \sqrt{det g}
\newcommand{\spatialbasevectorsymbol}{\ensuremath{ %
    g %
}} % spatial base vector symbol e.g., \spatialbasevectorsymbol => g
\newcommand{\spatialbasevector}{\ensuremath{ %
    \vectr{\spatialbasevectorsymbol} %
}} % spatial base vector e.g., \spatialbasevector => g
\newcommand{\spatialmetrictensorsymbol}{\ensuremath{ %
    g %
}} %  spatial metric tensor symbol e.g., \spatialmetrictensorsymbol => g
\newcommand{\spatialmetrictensor}{\ensuremath{ %
    \tensortwo{\spatialmetrictensorsymbol} %
}} % spatial metric tensor e.g., \spatialmetrictensor => g
\newcommand{\spatialmetrictensorscalesymbol}{\ensuremath{ %
    \spatialmetrictensorsymbol %
}} % spatial metric tensor scale symbol.g., \spatialmetrictensorscalesymbol => g=\sqrt{|g|}
\newcommand{\spatialmetrictensorscale}{\ensuremath{ %
    \sqrt{\abs{\spatialmetrictensor}} %
}} % spatial metric tensor scale e.g., \spatialmetrictensorscale => \sqrt{|g|}
\newcommand{\materialbasevectorsymbol}{\ensuremath{ %
    G %
}} % material base vector symbol e.g., \materialbasevectorsymbol => G
\newcommand{\materialbasevector}{\ensuremath{ %
    \vectr{\materialbasevectorsymbol} %
}} % material base vector e.g., \materialbasevector => G
\newcommand{\materialmetrictensorsymbol}{\ensuremath{ %
    G %
}} %  material metric tensor symbol e.g., \materialmetrictensorsymbol => G
\newcommand{\materialmetrictensor}{\ensuremath{ %
    \tensortwo{\materialmetrictensorsymbol} %
}} % material metric tensor e.g., \materialmetrictensor => G
\newcommand{\materialmetrictensorscalesymbol}{\ensuremath{ %
    \materialmetrictensorsymbol %
}} % material metric tensor scale symbol e.g., \materialmetrictensorscalesymbol => G=\sqrt{|G|}
\newcommand{\materialmetrictensorscale}{\ensuremath{ %
    \sqrt{\abs{\materialmetrictensor}} %
}} % material metric tensor scale e.g., \materialmetrictensorscale => \sqrt{|G|}

%
% Tensor notations
%
\newcommand{\Mandelsymbol}{\ensuremath{ %
    M %
}} % Mandel symbol
\newcommand{\Mandel}[1]{\ensuremath{ %
    {#1}^{\Mandelsymbol} %
}} % Mandel notation e.g., \Mandel{A} => A^M
\newcommand{\Voigtsymbol}{\ensuremath{ %
    V %
}} % Voigt symbol
\newcommand{\Voigt}[1]{\ensuremath{ %
    {#1}^{\Voigtsymbol} %
}} % Voigt notation e.g., \Voigt{A} => A^V

%
% Vector Calculus
%

\newcommand{\curl}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\crossprod{\nabla}{#2}} %
  }{ %
    \ensuremath{\crossprod{\nabla_{#1}}{#2}} % 
}} % curl e.g. \curl{}{a} => nabla x a & \curl{x}{a} => nabla_{x} x a
\newcommand{\curlnondim}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\crossprod{\gradnondim}{#2}} %
  }{ %
    \ensuremath{\crossprod{\gradnondim_{#1}}{#2}} % 
}} % curl non dimensional e.g. \curlnondim{}{a} => nabla' x a & \curlnondim{x}{a} => nabla'_{x} x a
\newcommand{\divergence}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\dotprod{\nabla}{#2}} %
  }{ %
    \ensuremath{\dotprod{\nabla_{#1}}{#2}} % 
}} % divergence e.g. \divergence{}{a} => nabla . a & \divergence{x}{a} => nabla_{x} . a
\newcommand{\divergencenondim}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\dotprod{\gradnondim}{#2}} %
  }{ %
    \ensuremath{\dotprod{\gradnondim_{#1}}{#2}} % 
}} % divergence non dimensional e.g. \divergencenondim{}{a} => nabla' . a & \divergencenondim{x}{a} => nabla'_{x} . a
\newcommand{\gradient}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\grad #2} %
  }{ %
    \ensuremath{\grad_{#1} #2} % 
}} % gradient e.g. \gradient{}{u} => \grad u & \gradient{x}{u} => \grad_{x} u
\newcommand{\gradientnondim}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\gradnondim #2} %
  }{ %
    \ensuremath{\gradnondim_{#1} #2} % 
}} % gradient non dimensional e.g. \gradientnondim{}{u} => \grad' u & \gradientnondim{x}{u} => \grad'_{x} u
\newcommand{\hessian}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\fnof{\hessop}{#2}} %
  }{ %
    \ensuremath{fnof{\hessop_{#1}}{#2}} % 
}} % Hessian e.g. \hessian{}{u} => H u & \hessian{x}{u} => H_{x} u
\newcommand{\hessiannondim}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\fnof{\hessopnondim}{#2}} %
  }{ %
    \ensuremath{\fnof{\hessopondim_{#1}}{#2}} % 
}} % Hessian non dimensional e.g. \hessiannondim{}{u} => H' u & \hessiannondim{x}{u} => H'_{x} u
\newcommand{\laplacian}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\gradsq #2} %
  }{ %
    \ensuremath{\gradsq_{#1} #2} % 
}} % laplacian e.g. \laplacian{}{u} => \nabla^2 u & \laplacian{x}{u} => \nabla^2_x u
\newcommand{\laplaciannondim}[2]{ %
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\gradsqnondim #2} %
  }{ %
    \ensuremath{\gradsqnondim_{#1} #2} % 
}} % laplacian non dimensional e.g. \laplaciannondim{}{u} => \nabla'^2 u & \laplaciannondim{x}{u} => \nabla'^2_x u

% Vector calculus operators
\DeclareMathOperator{\gradop}{grad} % gradient operator e.g., grad A
\DeclareMathOperator{\divop}{div} % divergence operator e.g., div A
\DeclareMathOperator{\curlop}{curl} % curl operator e.g., curl A
\DeclareMathOperator{\Gradop}{Grad} % Gradient operator e.g., Grad A
\DeclareMathOperator{\Divop}{Div} % Divergence operator e.g., Div A
\DeclareMathOperator{\Curlop}{Curl} % Curl operator e.g., Curl A

%
% Matrices and vectors
%
% cpb 19/9/96 Changing from \mathbf to \boldsymbol to allow bold greek matrices
%\newcommand{\matr}[1]{\ensuremath{\uppercase{\mathbf{#1}}}} % matrix
\newcommand{\matr}[1]{\ensuremath{\uppercase{\boldsymbol{#1}}}} % matrix
% cpb 19/9/96 Changing from \mathbf to \boldsymbol to allow bold greek vectors
\newcommand{\vect}[1]{\ensuremath{\lowercase{\boldsymbol{#1}}}} % vector
\newcommand{\normal}{\vectr{n}} % normal

% Matrix and vector operators
\newcommand{\determinant}[1]{\det #1} % determinant e.g., \determinant{A} =
                                % det A
\newcommand{\deviatoric}[2]{\ensuremath{
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\devop #2}%
  }{
    \ensuremath{\devop_{#1} #2}% 
  }
}} % deviatoric operator e.g., \deviatoric{g}{A} = dev_g A where g is the optional metric
   % for the deviatoric operator
\newcommand{\Deviatorc}[2]{\ensuremath{
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\Devop #2}%
  }{
    \ensuremath{\Devop_{#1} #2}% 
  }
}} % deviatoric operator e.g., \Deviatoric{g}{A} = Dev_g A where g is the optional metric
% for the deviatoric operator
\newcommand{\dimension}[1]{\ensuremath{ %
    \dimop #1 %
}} % dimension operation e.g., \dimension{A} => dim A
\newcommand{\image}[1]{\ensuremath{ %
    \imgop #1 %
}} % image operation e.g., \image{A} => im A
\newcommand{\kernel}[1]{\ensuremath{ %
    \kerop #1 %
}} % kernel operation e.g., \kernel{A} => ker A
\newcommand{\norm}[1]{\lnorm{2}{#1}} % normalise i.e. l-2 norm
\newcommand{\rank}[1]{\ensuremath{ %
    \rankop #1 %
}} % rank operation e.g., \rank{A} => rank A7
\newcommand{\skewsym}[1]{\ensuremath{
    \skewop #1 % skew-symmetric operator i.e., \skewsym{A} = skw A
  }}
\newcommand{\Skewsym}[1]{\ensuremath{
    \Skewop #1 % skew-symmetric operator i.e., \Skewsym{A} = Skw A
  }}
\newcommand{\spanspace}[1]{\ensuremath{ %
    \spanop #1 %
}} % span operation e.g., \span{A} => span A
\newcommand{\spherical}[2]{\ensuremath{
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\sphop #2}%
  }{
    \ensuremath{\sphop_{#1} #2}% 
  }
}} % spherical oeprator e.g., \spherical{g}{A} = sph_g A where g is the optional metric
   % for the spherical operator
\newcommand{\Spherical}[2]{\ensuremath{
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\Sphop #2}%
  }{
    \ensuremath{\Sphop_{#1} #2}% 
  }
}} % spherical operator e.g., \Spherical{g}{A} = Sph_g A where g is the optional metric
   % for the spherical operator
\newcommand{\symmetric}[1]{\ensuremath{
    \symop #1 % symmetric operator i.e., \symmetric{A} = sym A
  }}
\newcommand{\Symmetric}[1]{\ensuremath{
    \Symop #1 % symmetric operator i.e., \Symmetric{A} = Sym A
  }}
\newcommand{\trace}[2]{
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\trop #2}
  }{
    \ensuremath{\trop_{#1} #2} % 
  }
} % trace e.g., \trace{g}{A} = tr_g A where g is the optional metric for the trace
\newcommand{\Trace}[2]{
  \ifthenelse{\equal{#1}{}}{ %
    \ensuremath{\Trop #2}
  }{
    \ensuremath{\Trop_{#1} #2} % 
  }
} % Trace e.g., \Trace{G}{A} = Tr_G A where G is the optional metric for the trace

%
% Trigonometric functions
%

\DeclareMathOperator{\sech}{sech} % hyperbolic secant operator e.g., sech A
\DeclareMathOperator{\csch}{csch} % hyperbolic cosecant operator e.g., csch A

\newcommand{\cosine}[1]{\ensuremath{ %
    \fnof{\cos}{#1} %
}} %cosine e.g., \cosine{x} => cos(x)
\newcommand{\cosinen}[2]{\ensuremath{ %
    \fnof{\cos^{#1}}{#2} %
}} %cosine to nth power e.g., \cosinen{3}{x} => cos^{3}(x)
\newcommand{\cosinesq}[1]{\ensuremath{ %
    \fnof{\cos^{2}}{#1} %
}} %cosine squared e.g., \cosinesq{x} => cos^{2}(x)
\newcommand{\sine}[1]{\ensuremath{ %
    \fnof{\sin}{#1} %
}} %sine e.g., \sine{x} => sin(x)
\newcommand{\sinen}[2]{\ensuremath{ %
    \fnof{\sin^{#1}}{#2} %
}} %sine to nth power e.g., \sinen{3}{x} => sin^{3}(x)
\newcommand{\sinesq}[1]{\ensuremath{ %
    \fnof{\sin^{2}}{#1} %
}} %sine squared e.g., \sinesq{x} => sin^{2}(x)
\newcommand{\tangent}[1]{\ensuremath{ %
    \fnof{\tan}{#1} %
}} %tangent e.g., \tangent{x} => tan(x)
\newcommand{\tangentn}[2]{\ensuremath{ %
    \fnof{\tan^{#1}}{#2} %
}} %tangent to nth power e.g., \tangentn{3}{x} => tan^{3}(x)
\newcommand{\tangentsq}[1]{\ensuremath{ %
    \fnof{\tan^{2}}{#1} %
}} %tangent squared e.g., \tangentsq{x} => tan^{2}(x)
\newcommand{\arccosine}[1]{\ensuremath{ %
    \fnof{\inverse{\cos}}{#1} %
}} %inverse cosine e.g., \arccosine{x} => cos^{-1}(x)
\newcommand{\arccosinen}[2]{\ensuremath{ %
    \fnof{\cos^{-#1}}{#2} %
}} %inverse cosine to the nth power e.g., \arccosinen{3}{x} => cos^{-3}(x)
\newcommand{\arcsine}[1]{\ensuremath{ %
    \fnof{\inverse{\sin}}{#1} %
}} %inverse sine e.g., \invsine{x} => sin^{-1}(x)
\newcommand{\arcsinen}[2]{\ensuremath{ %
    \fnof{\sin^{-#1}}{#2} %
}} %inverse sine to the nth power e.g., \arcsinen{3}{x} => sin^{-3}(x)
\newcommand{\arctangent}[1]{\ensuremath{ %
    \fnof{\inverse{\tan}}{#1} %
}} %inverse tangent e.g., \invtangent{x} => tan^{-1}(x)
\newcommand{\arctangentn}[2]{\ensuremath{ %
    \fnof{\tan^{-#1}}{#2} %
}} %inverse tangent to the nth power e.g., \arctangentn{3}{x} => tan^{-3}(x)
\newcommand{\secant}[1]{\ensuremath{ %
    \fnof{\sec}{#1} %
}} %secant e.g., \secant{x} => sec(x)
\newcommand{\secantn}[2]{\ensuremath{ %
    \fnof{\sec^{#1}}{#2} %
}} %secant to the nth power e.g., \secantn{3}{x} => sec^{3}(x)
\newcommand{\cosecant}[1]{\ensuremath{ %
    \fnof{\csc}{#1} %
}} %cosecant e.g., \cosecant{x} => csc(x)
\newcommand{\cosecantn}[2]{\ensuremath{ %
    \fnof{\csc^{#1}}{#2} %
}} %cosecant to the nth power e.g., \cosecantn{3}{x} => csc^{3}(x)
\newcommand{\cotangent}[1]{\ensuremath{ %
    \fnof{\cot}{#1} %
}} %cotangent e.g., \contangent{x} => cot(x)
\newcommand{\cotangentn}[2]{\ensuremath{ %
    \fnof{\cot^{#1}}{#2} %
}} %cotangent to the nth power e.g., \cotangent{3}{x} => cot^{3}(x)
\newcommand{\hypecosine}[1]{\ensuremath{ %
    \fnof{\cosh}{#1} %
}} %hyperbolic cosine e.g., \hypecosine{x} => cosh(x)
\newcommand{\hypecosinen}[2]{\ensuremath{ %
    \fnof{\cosh^{#1}}{#2} %
}} %hyperbolic cosine to the nth power e.g., \hypecosinen{3}{x} => cosh^{3}(x)
\newcommand{\hypecosinesq}[1]{\ensuremath{ %
    \fnof{\cosh^{2}}{#1} %
}} %hyperbolic cosine squared e.g., \hypecosinesq{x} => cosh^{2}(x)
\newcommand{\hypesine}[1]{\ensuremath{ %
    \fnof{\sinh}{#1} %
}} %hyperbolic sine e.g., \hypesine{x} => sinh(x)
\newcommand{\hypesinen}[2]{\ensuremath{ %
    \fnof{\sinh^{#1}}{#2} %
}} %hyperbolic sine to the nth power e.g., \hypesinen{3}{x} => sinh^{3}(x)
\newcommand{\hypesinesq}[1]{\ensuremath{ %
    \fnof{\sinh^{2}}{#1} %
}} %hyperbolic sine squared e.g., \hypesinesq{x} => sinh^{2}(x)
\newcommand{\hypetangent}[1]{\ensuremath{ %
    \fnof{\tanh}{#1} %
}} %hyperbolic tangent e.g., \hypetangent{x} => tanh(x)
\newcommand{\hypetangentn}[2]{\ensuremath{ %
    \fnof{\tanh^{#1}}{#2} %
}} %hyperbolic tangent to the nth power e.g., \hypetangentn{3}{x} => tanh^{3}(x)
\newcommand{\hypetangentsq}[1]{\ensuremath{ %
    \fnof{\tanh^{2}}{#1} %
}} %hyperbolic tangent e.g., \hypetangent{x} => tanh(x)
\newcommand{\hypesecant}[1]{\ensuremath{ %
    \fnof{\sech}{#1} %
}} %hyperbolic secant e.g., \hypesecant{x} => sech(x)
\newcommand{\hypesecantn}[2]{\ensuremath{ %
    \fnof{\sech^{#1}}{#2} %
}} %hyperbolic secant to the nth power e.g., \hypesecantn{3}{x} => sech^{3}(x)
\newcommand{\hypesecantsq}[1]{\ensuremath{ %
    \fnof{\sech^{2}}{#1} %
}} %hyperbolic secant squared e.g., \hypesecantsq{x} => sech^{2}(x)
\newcommand{\hypecosecant}[1]{\ensuremath{ %
    \fnof{\csch}{#1} %
}} %hyperbolic cosecant e.g., \hypecosecant{x} => csch(x)
\newcommand{\hypecosecantn}[2]{\ensuremath{ %
    \fnof{\csch^{#1}}{#2} %
}} %hyperbolic cosecant to the nth power e.g., \hypecosecantn{3}{x} => csch^{3}(x)
\newcommand{\hypecosecantsq}[1]{\ensuremath{ %
    \fnof{\csch^{2}}{#1} %
}} %hyperbolic cosecant squared e.g., \hypecosecantsq{x} => csch^{2}(x)
\newcommand{\hypecotangent}[1]{\ensuremath{ %
    \fnof{\coth}{#1} %
}} %hyperbolic cotangent e.g., \hypecontangent{x} => coth(x)
\newcommand{\hypecotangentn}[2]{\ensuremath{ %
    \fnof{\coth^{#1}}{#2} %
}} %hyperbolic cotangent to the nth power e.g., \hypecotangentn{3}{x} => coth^{3}(x)
\newcommand{\hypecotangentsq}[1]{\ensuremath{ %
    \fnof{\coth^{2}}{#1} %
}} %hyperbolic cotangent squared e.g., \hypecontangentsq{x} => coth^{2}(x)
\newcommand{\archypecosine}[1]{\ensuremath{ %
    \fnof{\inverse{\cosh}}{#1} %
}} %inverse hyperbolic cosine e.g., \archypecosine{x} => cosh^{-1}(x)
\newcommand{\archypecosinen}[2]{\ensuremath{ %
    \fnof{\cosh^{-#1}}{#2} %
}} %arc hyperbolic cosine to the nth power e.g., \archypecosinen{3}{x} => cosh^{-3}(x)
\newcommand{\archypesine}[1]{\ensuremath{ %
    \fnof{\inverse{\sinh}}{#1} %
}} %inverse hyperbolic sine e.g., \archypesine{x} => sinh^{-1}(x)
\newcommand{\archypesinen}[2]{\ensuremath{ %
    \fnof{\sinh^{-#1}}{#2} %
}} %arc hyperbolic sine to the nth power e.g., \archypesinen{3}{x} => sinh^{-3}(x)
\newcommand{\archypetangent}[1]{\ensuremath{ %
    \fnof{\inverse{\tanh}}{#1} %
}} %inverse hyperbolic tangent e.g., \archypetangent{x} => tanh^{-1}(x)
\newcommand{\archypetangentn}[2]{\ensuremath{ %
    \fnof{\tahh^{-#1}}{#2} %
}} %arc hyperbolic tangent to the nth power e.g., \archypetangentn{3}{x} => tanh^{-3}(x)


%
% Basis functions and interpolation
%
\newcommand{\nodept}[2]{\ensuremath{ %
    {#1}^{#2} %
  }} % Nodal point (without derivative) e.g., \nodept{\psi}{n}=> nodal dof of \psi at node n.
\newcommand{\nodedof}[3]{\ensuremath{ %
  \nodept{#1}{#2}_{,#3} %
}} % Nodal DOF e.g., \nodedof{\psi}{n}{u} => nodal dof of \psi at node n
  % derivative u.
\newcommand{\idxnodedof}[4]{\ensuremath{ %
  \nodept{#1}{#2#3}_{,#4} %
}} % Indexed nodal DOF e.g., \nodedof{\psi}{i}{n}{u} => nodal dof of ith
   % component of \psi at node n derivative u.
\newcommand{\coidxnodedof}[4]{\ensuremath{ %
  \nodept{#1}{#3}_{#2,#4} %
}} % "Covector" Indexed nodal DOF e.g., \nodedof{\psi}{i}{n}{u} => nodal dof of ith
   % component of \psi at node n derivative u.
\newcommand{\elementdof}[2]{\ensuremath{ %
  #1_{#2} %
}} % Element DOF e.g., \elementdof{\psi}{e} => element dof of \psi at element e
\newcommand{\chbfnsymb}[2]{\ensuremath{ %
    \Psi_{#1}^{#2} %
    }} % Cubic Hermite basis function symbol
\newcommand{\chbfn}[3]{\ensuremath{ %
    \fnof{\chbfnsymb{#1}{#2}}{#3} %
    }} % \chbfn{n}{u}{xi} => cubic Hermite basis function at node n deriv u
       % evaluated at xi
\newcommand{\hsonebfnsymb}[1]{\ensuremath{ %
    \zeta_{#1} %
    }} % Hermite sector 1 basis function symbol
\newcommand{\hsonebfn}[2]{\ensuremath{ %
    \fnof{\hsonebfnsymb{#1}}{#2} %
    }} % \hsonebfn{n}{xi} => Hermite sector 1 basis function at node n
       % evaluated at xi
\newcommand{\hsthreebfnsymb}[1]{\ensuremath{ %
    \eta_{#1} %
    }} % Hermite sector 3 basis function symbol
\newcommand{\hsthreebfn}[2]{\ensuremath{ %
    \fnof{\hsthreebfnsymb{#1}}{#2} %
    }} % \hsonebfn{n}{xi} => Hermite sector 3 basis function at node n
       % evaluated at xi
\newcommand{\lbfnsymb}[1]{\ensuremath{ %
    \varphi_{#1} %
    }} % Lagrange basis function symbol
\newcommand{\lbfn}[2]{\ensuremath{ %
    \fnof{\lbfnsymb{#1}}{#2} %
    }} % \lbfn{n}{xi} => Lagrange basis function at node n evaluated at xi
\newcommand{\sbfnsymb}[1]{\ensuremath{ %
    N_{#1} %
  }} % Simplex basis function symbol
\newcommand{\sbfn}[2]{\ensuremath{ %
    \fnof{\sbfnsymb{#1}}{#2} %
    }} % \sbfn{n}{xi} => Simplex basis function at node n evaluated at xi
\newcommand{\gbfnsymb}[2]{\ensuremath{ %
    \psi_{#1}^{#2} %
    }} % Generic basis function symbol
\newcommand{\altgbfnsymb}[2]{\ensuremath{ %
    \phi_{#1}^{#2} %
    }} % Alternate generic basis function symbol
\newcommand{\idxgbfnsymb}[3]{\ensuremath{ %
    \psi_{#2}^{#1#3} %
    }} % Indexed generic basis function symbol
\newcommand{\altidxgbfnsymb}[3]{\ensuremath{ %
    \phi_{#2}^{#1#3} %
    }} % Alternate indexed generic basis function symbol
\newcommand{\coidxgbfnsymb}[3]{\ensuremath{ %
    \psi_{#1#2}^{#3} %
    }} % "Covector" indexed generic basis function symbol
\newcommand{\altcoidxgbfnsymb}[3]{\ensuremath{ %
    \phi_{#1#2}^{#3} %
    }} % Alternate "covector" indexed generic basis function symbol
\newcommand{\gbfn}[3]{\ensuremath{ %
    \fnof{\gbfnsymb{#1}{#2}}{#3} %
    }} % \gbfn{n}{i}{xi} => Generic bais function at n,i evaluated at xi
\newcommand{\altgbfn}[3]{\ensuremath{ %
    \fnof{\altgbfnsymb{#1}{#2}}{#3} %
    }} % \altgbfn{n}{i}{xi} => Alternate generic bais function at n,i evaluated at xi
\newcommand{\idxgbfn}[4]{\ensuremath{ %
    \fnof{\idxgbfnsymb{#1}{#2}{#3}}{#4} %
    }} % \idxgbfn{j}{n}{i}{xi} => Indexed j'th generic bais function at n,i evaluated at xi
\newcommand{\altidxgbfn}[4]{\ensuremath{ %
    \fnof{\altidxgbfnsymb{#1}{#2}{#3}}{#4} %
    }} % \altidxgbfn{j}{n}{i}{xi} => Alternate indexed j'th generic bais function at n,i evaluated at xi
\newcommand{\coidxgbfn}[4]{\ensuremath{ %
    \fnof{\coidxgbfnsymb{#1}{#2}{#3}}{#4} %
    }} % \uidxbfn{j}{n}{i}{xi} => "Upper" indexed j'th generic bais function at n,i evaluated at xi
\newcommand{\altuidxgbfn}[4]{\ensuremath{ %
    \fnof{\altuidxgbfnsymb{#1}{#2}{#3}}{#4} %
    }} % \altuidxbfn{j}{n}{i}{xi} => Alternate "Upper" indexed j'th generic bais function at n,i evaluated at xi
\newcommand{\esfsymb}{\ensuremath{ %
    S %
    }} % Element scale factor symbol
\newcommand{\esfone}[1]{\ensuremath{ %
    \fnof{\esfsymb}{{#1}} %
    }} % \esfone{e} => Element scale factor in one direction in element e
\newcommand{\esftwo}[2]{\ensuremath{ %
    \fnof{\esfsymb}{#1,#2} %
    }} % \esftwo{e}{i} => Element scale factor in two directions in element e
       % and xi direction i
\newcommand{\gsfsymb}{\ensuremath{ %
    \mathrm{S} %
    }} % Generic scale factor symbol
\newcommand{\gsf}[2]{\ensuremath{ %
    \fnof{\gsfsymb}{#1,#2} %
    }} % \gsf{n}{i} => Generic scale factor in at position n,i
\newcommand{\idxgsf}[3]{\ensuremath{ %
    \fnof{\gsfsymb}{#1,#2,#3} %
    }} % \gsf{j}{n}{i} => Generic scale factor in at position n,i for the j'th
       % component idx
\newcommand{\nsfsymb}{\ensuremath{ %
    \mathcal{S} %
    }} % Nodal scale factor symbol
\newcommand{\nsfone}[1]{\ensuremath{ %
    \fnof{\nsfsymb}{#1} %
    }} % \nsfone{n} => Nodal scale factor in one direction at node n
\newcommand{\nsftwo}[2]{\ensuremath{ %
    \fnof{\nsfsymb}{#1,#2} %
    }} % \nsftwo{n}{i} => Nodal scale factor in two directions at node n and xi
       % direction i


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
